function random(e,t){return(Math.random()*(t-e)+e).toFixed()}function returnURL(e,t,a){return`https://static-cdn.jtvnw.net/previews-ttv/live_user_${a}-${e}x${t}.jpg?d=${Math.random()}`}function widthLi(e=0){return 780-e}function heightLi(e=0){return 200-e}function xW(e){return 6}function xH(e){return 2}function url(e){return+cookie.turn.chat[pathname]?`https://player.twitch.tv/?autoplay=true&video=v${e}`:`https://twitch.tv/videos/${e}?`}function utc(){return-6e4*(new Date).getTimezoneOffset()-9e5*cookie.UTC}function tLS(e,t=dateSet){return new Date(e).toLocaleString("ru-RU",t)}function tLS2(e,t){if(t){let t=e.split(":");return t[0]=+t[0]>23?23:t[0],`${(t=new Date(1e3*(3600*+t[0]+60*+t[1]+ +t[2])- -6e4*(new Date).getTimezoneOffset()).toLocaleString("ru-RU",timeSet).split(":"))[0]}h${t[1]}m${t[2]}s`}{let t=e.split(".");return new Date(+t[2],+t[1]-1,+t[0]).toLocaleString("ru-RU",dateSet)}}function tLSr(e){let t="";if(2==(e=e.split("-")).length){for(let a=0;a<e.length;a++){if(2!=e[a].split("h").length)return!1;if(2!=e[a].split("m").length)return!1;if(2!=e[a].split("s").length)return!1;let n={hour:+e[a].split("h")[0],min:+e[a].split("h")[1].split("m")[0],sec:+e[a].split("m")[1].split("s")[0]};n.min=n.sec-60>0?Math.floor(n.sec/60)+n.min:n.min,n.sec=n.sec>60?n.sec%60:n.sec<0?0:n.sec,n.hour=n.min-60>0?Math.floor(n.min/60)+n.hour:n.hour,n.min=n.min>60?n.min%60:n.min<0?0:n.min,n.hour=n.hour>23?23:n.hour<0?0:n.hour,t+=`${zero(n.hour)}:${zero(n.min)}:${zero(n.sec)}`,a||(t+="-")}return t}return!1}function tLS3(e,t=null){if("00:00:00"==e){if(t){let e=120*t,a=zero(e%60),n=zero(Math.floor(e/60)%60);return`~${zero(Math.floor(e/3600)%86400)}:${n}:${a}`}return"??:??:??"}return e}function indexOf(e,t){for(let a=0;a<t.length;a++)if("!"==t[a].slice(0,1)){if(e==t[a].slice(1))return!0}else if(-1!=e.indexOf(t[a]))return!0}function filter(e,t){if(!e||!e.length)return!1;for(let a=0;a<e.length;a++){if(-1!=String(t).toLowerCase().indexOf(String(e[a]).toLowerCase()))return!0;if(+a+1==e.length)return!1}}function filterOnly(e,t){if(!e||!e.length)return!1;for(let a=0;a<e.length;a++){if(String(t).toLowerCase()==String(e[a]).toLowerCase())return!0;if(+a+1==e.length)return!1}}function zero(e,t=2){for(let a=1;a<t;a++)+e<10**a&&(e="0"+e);return e}function parent(e,t=1){e=$(e);for(let a=0;a<t;a++)e=e.parent();return e}function translate(e){let t=langObj[cookie.lang],a="";for(let n=0;n<e.length;n++)t=t[`${String(e[n])}`]||"",a+=e[n]+" » ";return t||console.log(`%cLang err: %c[${cookie.lang}] ${a.slice(0,-3)}`,"color: red","color: black"),t||a.slice(0,-3)}function wwwFilter(e){if(filter(["http://","https://","www."],e)&&"1"==cookie.turn.url[pathname]){let t=e.split(" ");for(let e=0;e<t.length;e++)"http"!=t[e].slice(0,4)&&"www."!=t[e].slice(0,4)||filter(['src="smile"'],t[e])||(t[e]=`<a target="_blank" href="${t[e]}">${t[e]}</a>`);e=t.join(" ")}return e}function smilesFilter(e){if("1"==cookie.turn.smile[pathname])for(let t=0;t<Object.keys(smiles).length;t++)-1!=e.toLowerCase().indexOf(Object.keys(smiles)[t].toLowerCase())&&(e=e.replace(new RegExp(Object.keys(smiles)[t],"ig"),`<img class="smile" src="${smiles[Object.keys(smiles)[t]]}">`));return e}function appendLiContentAdd(e=""){let t="Anti"==e?"ignore":"add";$(`li[content="${hash+e}Add"][type="${pathname}"]`).length||$("ul").append(`\n      <input type="checkbox" id="arrow_${hash+e}">\n      <label for="arrow_${hash+e}" icon="arrow"></label>\n      <li content="${hash+e}Add" type="${pathname}">\n        <h4 meme="${translate([pathname,"total"])}" sum="0">\n          <a>${translate([pathname,hash,"add"+e])}</a>\n        </h4>\n        <h8>\n          <div class="${hash+e}Add">\n            <input type="text" \n              onkeydown="${pathname}KeyDown('${e}', this, event);" \n              onkeyup="${pathname}KeyUp('${e}', this, event);"\n            >\n            <div view="button" class="${t}" name="${translate([pathname,t])}" onclick="${pathname}Add('${e}', this);"></div>\n          </div>\n        </h8>\n      </li>\n    `)}function appendLiContent(e=""){$(`li[content="${hash+e}"][type="${pathname}"]`).length||$(`ul li[content="${hash+e}Add"]`).after(`\n      <li content="${hash+e}" type="${pathname}">\n        <h4 display="1">\n          <a>${translate([pathname,hash,"title"+e])}</a>\n          ${filterOnly(["main"],hash+e)?`<div subtitle>${translate([pathname,hash,"subtitle"])}</div>`:""}\n        </h4><h8></h8><h9></h9>\n      </li>\n    `)}function appendRange(e="",t=[],a=[0,1,1]){t.unshift(pathname),$("ul").append(`\n    <li content="${e}" type="${pathname}">\n      <h4><a>${translate(t)}</a></h4>\n      <h8 style="flex-direction: row;">\n        <input type="range" name="${e}" min="${a[0]}" max="${a[1]}" step="${a[2]}" oninput="${e}Range(this)">\n      </h8>\n    </li>\n  `)}function getBottomMenu(){for(let e=0;e<$(".bottomMenu label").length;e++){let t=$(".bottomMenu label").eq(e).attr("for");$(`.bottomMenu label[for='${t}']`).css({display:filterOnly(pageSet.ban[t],pathname)?"none":"flex"})}$(".bottomMenu").css({display:$(".bottomMenu label[style*='display: none;']").length==$(".bottomMenu label").length?"none":"flex"}),"1"!=cookie.turn.filter[pathname]||filterOnly(pageSet.ban.filter,pathname)||$(".bottomMenu #filter").prop("checked",!0)}function getTheme(e){if(e){let t=$(e).attr("for").slice(0,-5);cookie.theme=t,document.cookie=`theme=${cookie.theme};expires=${cookieDate}`}let t=":root{";for(let e=0;e<Object.values(colorObj[cookie.theme]).length;e++){t+=`--${Object.keys(colorObj[cookie.theme])[e]}: ${Object.values(colorObj[cookie.theme])[e]};`}$("head style[theme]").length||$("head").append("<style theme></style>"),$("style[theme]").html(`${t}}`);let a=cookie.hueRotate[cookie.theme];$("ul input[name='theme']")&&$("ul input[name='theme']").val(a).attr({deg:+a}),getHueRotate()}function getScroll(){0==$(document).scrollTop()?($(document).scrollTop($(this).attr("oldScroll")),$(this).attr("oldScroll",0)):($(this).attr("oldScroll",$(document).scrollTop()),$(document).scrollTop(0))}function getColor(e){let t=+$(e).offset().top,a=$(e).parent().siblings("a[target]").html(),n=$(".getColor").attr("group"),l="";for(let e=0;e<colorArr.length;e++)l+=`<div num="${e}" style="background-color: ${colorArr[e]}" onclick="getColorClick(this)"></div>`;$(".getColor").length&&$(".getColor").detach(),a!=n&&$("body").append(`\n      <div class="getColor" style="top: ${t-72.5}px" group="${a}">${l}</div>\n    `)}function getColorClick(e){let t=$(e).parent().attr("group");$(`li[content="main"] div[group="${t}"] color>div`).attr({style:`background-color: ${colorArr[$(e).attr("num")]}`,num:$(e).attr("num")}),$(".getColor").detach()}function addTitleNum(){$("title").html();let e=$("ul li").length?$("ul li[counter]:not([style*='display: none;'])").length:0;$("label[for='autoload']").attr({number:e});let t=filter(["completed","nodata"],$("label[for='autoload']").attr("status"))?e?`| ${translate(["menu","autoloadCompleted"])}`:`| ${translate(["menu","autoloadNodata"])}`:"";setTimeout(()=>{$("title").html(`${translate(["pages",pathname])} | ${e} ${t}`),filter(["completed","nodata"],$("label[for='autoload']").attr("status"))?$("label[for='autoload'], ul>div[load]").attr({name:translate(["menu",e?"autoloadCompleted":"autoloadNodata"])}):$("ul div[load]").removeAttr("name")},0)}function getClickAutoload(e){filter(["completed","nodata"],$(e).attr("status"))&&$("#autoload").prop("checked",!0)}function getReloadAutoload(){$("#autoload").prop("checked",!1),$("label[for='autoload']").attr({name:translate(["menu","autoload"]),number:0,status:"process"}),"1"!=cookie.turn.autoload[pathname]||filterOnly(pageSet.ban.autoload,pathname)||$("#autoload").prop("checked",!0)}function endAutoload(){let e=pathname,t=$("ul li").length?translate(["menu","autoloadCompleted"]):translate(["menu","autoloadNodata"]),a=$("ul li").length?"completed":"nodata";$("label[for='autoload'], ul>div[load]").attr({name:t,status:a}),setTimeout(()=>{e==pathname&&$("#autoload").prop("checked",!1),$("title").html(`${$("#title").html()} | ${$("label[for='autoload']").attr("number")} | ${t}`)},200)}function allReset(){if(confirm(translate(["menu","filter","resetAllConfirm"+("settings"==pathname?"Settings":"")])+translate(["pages",pathname])))switch(pathname){case"settings":for(let e=0;e<settingsPages.length;e++)settingsReset(settingsPages[e],1);break;default:get[pathname]={},start(pathname,1)}}function settingsReset(e,t){let a=translate("theme"==e||"same"==e?["menu","filter",e]:["pages",e]);if(t||confirm(`${translate([pathname,"resetConfirm"])} #${a}`)){switch(e){case"theme":for(let e=0;e<Object.keys(colorObj).length;e++){let t=Object.keys(colorObj)[e];cookie.hueRotate[t]="000",$("input.hueRotateRange").attr({deg:0}).val(0)}getHueRotate(),document.cookie=`hueRotate=${JSON.stringify(cookie.hueRotate)};expires=${cookieDate}`;break;default:for(let t=0;t<pageSet.turn.list.length;t++){let a=pageSet.turn.list[t],n=filterOnly(pageSet.turn.auto[a],e)?1:0;cookie.turn[a][e]=n,$(`ul input#${a}Cookie`).prop("checked",n),document.cookie=`turn=${JSON.stringify(cookie.turn)};expires=${cookieDate}`}}loadSettings(pathname)}}function help(e,t,a=""){let n=$(e).height(),l=$(e).width(),i=$(e).offset().top+ +$(e).css("padding-top").slice(0,-2),o=$(e).offset().left,r=+$(e).css("padding-left").slice(0,-2),s=-1*+$(e).css("padding-right").slice(0,-2);"1"==cookie.turn.help[pathname]&&($(e).attr({event:"hover",onmouseout:"helpOut(this);"}).css({cursor:"help"}),setTimeout(()=>{if("hover"==$(e).attr("event")){$(e).css({cursor:""}),t[0]=1==t[0]?pathname:t[0],$(".help").html(translate([...t])+a).show();let c=$(".help").height(),h=$(".help").width(),d=o>.75*$(window).width()?"right":"left",g="left"==d?r:s;o=o>.75*$(window).width()?o-30-h:10+l+o,$(".help").css({left:g+o+"px",top:i+(c>n?0:(n-c)/2-7)+"px"}).attr({position:d})}},750))}function helpOut(e){$(e).attr({event:""}).css({cursor:""}),$(".help").html("").hide()}function dlt(e,t,a,n){if("message"==a){let a=parent(e,3).attr("sID"),l=$(e).siblings("a").html().split("</b>")[0].split("#")[1].slice(0,-1),i=$(e).siblings("a").html().split("</b>")[1].replace(/  /g,"").replace(/\r?\n/g,"").slice(1);confirm(`${translate(["settings","delete"])} ${l}:«${i}»?`)&&$.ajax({url:"dlt",data:{type:t,sID:a,ts:n},method:"get",success:t=>{parent(e).attr({dlt:""}),setTimeout(()=>{parent(e).detach(),$(`li[sID="${a}"] h8 div`).length||($(`li[sID="${a}"]`).detach(),$(`input[id="arrow_comments${a}"]`).detach(),$(`label[for="arrow_comments${a}"]`).detach())},500)}})}else if("block"==a){let a=parent(e).attr("sID"),n="";if(n+=$(`li[sID="${a}"] h4 a[ch]`).html(),n+=":«"+$(`li[sID="${a}"] h4 a[title]`).attr("title")+"» ",n+="["+$(`li[sID="${a}"] h4 a[date]`).attr("date")+"]",confirm(`[${translate(["pages",t])}] ${translate(["settings","delete"])} ${n}?`)){let e="archive"==pathname?`[pathname="${t}"]`:"",n="archive"==pathname?`[for*="${t}"]`:"",l="archive"==pathname?`[id*="${t}"]`:"";$.ajax({url:"dlt",data:{type:t,sID:a},method:"get",success:t=>{$(`li[sID="${a}"]${e}`).detach(),$(`input[id*="arrow_"][id*="${a}"]${l}`).detach(),$(`label[for*="arrow_"][for*="${a}"]${n}`).detach()}})}}}function getRightFilter(){setTimeout(()=>{let e=$(".bottomMenu #filter").prop("checked");switch($(".rightFilter").html("<div></div>").css({display:e?"flex":"none"}),$(".rightFilter>div").append(`<div view="button" id="resetAll" name="${translate(["menu","filter","resetAll"+("settings"==pathname?"Settings":"")])}" onclick="allReset()"></div>`),pathname){case"settings":for(let e=0;e<settingsPages.length;e++)$(".rightFilter>div").append(`\n            <a style="display: flex; width: 100%;" href="/${pathname}#${settingsPages[e]}">\n              <input type="radio" name="filterMax" id="${settingsPages[e]}FilterMax" onclick="loadSettings(this)">\n              <label view="button" for="${settingsPages[e]}FilterMax"></label>\n            </a>\n          `),$(`.rightFilter input#${hash}FilterMax`).prop("checked",!0),$(`.rightFilter label[for="${settingsPages[e]}FilterMax"]`).attr({name:translate(0==e||1==e?["menu","filter",settingsPages[e]]:["pages",settingsPages[e]])});let t=$(".rightMenu").width(),a=$(document).height()%t+t;$(".rightFilter>div").css("padding-bottom",a+"px");break;default:$(".rightFilter>div").append(`\n          <input type="checkbox" less="${translate(["menu","filter","less"])}" more="${translate(["menu","filter","more"])}" id="filterOrder" ${"ASC"==get[pathname].sort?"checked":""}>\n          <label view="icon" onmouseover="help(this, ['help', 'sort', 'order'])" bg="_h:color_ch:color" icon="sort_order" for="filterOrder"></label>\n          <div id="filterRadio"></div>\n        `);let n=["id","pop","duration"],l=get[pathname].by?get[pathname].by:n[0];for(let e=0;e<n.length;e++)$(".rightFilter>div #filterRadio").append(`\n            <input type="radio" name="filterRadio" id="filterRadio_${n[e]}" ${l==n[e]?"checked":""}>\n            <label view="icon" onmouseover="help(this, ['help', 'sort', '${n[e]}'])" bg="_h:color_c:color_ch:color" icon="sort_${n[e]}" for="filterRadio_${n[e]}"></label>\n          `);let i=["date","pop","duration"];for(let e=0;e<i.length;e++)$(".rightFilter>div").append(`\n            <input type="checkbox" id="${i[e]}FilterWrap" ${get[pathname][i[e]]?"checked":""}>\n            <label view="button" for="${i[e]}FilterWrap" name="${translate(["menu","filter","wrap",i[e]])}" bg="_c:color_h:color_ch:color"></label>\n            <div class="${i[e]}FilterWrap">\n              <input type="text" maxlength="${2!=e?10:8}" id="${i[e]}FilterBefore" onkeydown="filterKeyDown(this, event);" onkeyup="filterKeyUp(this, event);">\n              <input type="text" maxlength="${2!=e?10:8}" id="${i[e]}FilterAfter" onkeydown="filterKeyDown(this, event);" onkeyup="filterKeyUp(this, event);">\n            </div>\n          `),get[pathname][i[e]]&&("duration"==i[e]?($(`#${i[e]}FilterBefore`).val(tLSr(get[pathname][i[e]]).split("-")[0]),$(`#${i[e]}FilterAfter`).val(tLSr(get[pathname][i[e]]).split("-")[1])):($(`#${i[e]}FilterBefore`).val(get[pathname][i[e]].split("-")[0]),$(`#${i[e]}FilterAfter`).val(get[pathname][i[e]].split("-")[1])));get[pathname].date||($("#dateFilterBefore").val("01.01.2020"),$("#dateFilterAfter").val(tLS(new Date))),get[pathname].duration||($("#durationFilterBefore").val("00:00:00"),$("#durationFilterAfter").val("23:59:59")),get[pathname].pop||($("#popFilterBefore").val("0"),$("#popFilterAfter").val("99999999")),$(".rightFilter>div>#dateFilterWrap").before(`\n          <input type="checkbox" id="channelFilterWrap" ${get[pathname].channel,"checked"}>\n          <label view="button" for="channelFilterWrap" name="${translate(["menu","filter","wrap","channel"])}" bg="_c:color_h:color_ch:color"></label>\n          <div class="channelFilterWrap"></div>\n        `);for(let e=0;e<Object.keys(infoBot.channels).length;e++){let t=Object.keys(infoBot.channels)[e];filter(["notes","fbi","tags"],pathname)&&"true"!=infoBot.channels[t][pathname]||$("div.channelFilterWrap").append(`\n              <a href="/${pathname}?channel=${t}" target="_blank">\n                <input type="checkbox" name="channelFilterWrap" id="channel_${t}" ${get[pathname].channel?filter(get[pathname].channel.split(","),t)?"checked":"":"checked"}>\n                <label view="button" for="channel_${t}" name="${t}" bg="_c:color_h:color_ch:color" onclick="channelFilter(this);" ondblclick="channelFilter(this, 1);" oncontextmenu="channelFilter(this, 2, event)"></label>  \n              </a>\n            `)}$(".rightFilter>div").append(`<div view="button" id="activeFilter" name="${translate(["menu","filter","active"])}" onclick="activeFilter()"></div>`)}},50)}function activeFilter(){let e="";e+=$("#filterOrder").prop("checked")?"&sort=ASC":"";let t=$("#filterRadio input:checked").attr("id").split("_")[1];e+="id"!=t?`&by=${t}`:"","01.01.2020"==$("#dateFilterBefore").val()&&$("#dateFilterAfter").val()==tLS(new Date)||!$("#dateFilterWrap").prop("checked")||(e+="&date="+$("#dateFilterBefore").val()+"-"+$("#dateFilterAfter").val()),"0"==$("#popFilterBefore").val()&&"99999999"==$("#popFilterAfter").val()||!$("#popFilterWrap").prop("checked")||(e+="&pop="+$("#popFilterBefore").val()+"-"+$("#popFilterAfter").val()),"00:00:00"==$("#durationFilterBefore").val()&&"23:59:59"==$("#durationFilterAfter").val()||!$("#durationFilterWrap").prop("checked")||(e+="&duration="+tLS2($("#durationFilterBefore").val(),1)+"-"+tLS2($("#durationFilterAfter").val(),1));let a=$(".channelFilterWrap input:checked");if(a.length&&a.length!=$(".channelFilterWrap input").length&&$("#channelFilterWrap").prop("checked")){e+="&channel=";for(let t=0;t<a.length;t++)e+=a.eq(t).attr("id").split("_")[1]+",";e=e.slice(0,-1)}getToObj(e=0!=e.length?"?"+e.slice(1):1),start(pathname,e)}function filterKeyDown(e,t){(t.which<48||t.which>57)&&8!=t.which&&46!=t.which&&t.preventDefault();let a={date:".",duration:":"};for(let n=0;n<Object.keys(a).length;n++)filter([Object.keys(a)[n]],$(e).attr("id"))&&filterOnly([2,5],$(e).val().length)&&8!=t.which&&$(e).val($(e).val()+Object.values(a)[n])}function filterKeyUp(e,t){let a={date:".",duration:":"},n=$(e).val().split(""),l="";for(let t=0;t<Object.keys(a).length;t++)if(filter([Object.keys(a)[t]],$(e).attr("id"))){for(let e=0;e<n.length;e++)l+=2==e||5==e?isNaN(n[e])?n[e]:Object.values(a)[t]+n[e]:isNaN(n[e])?"":n[e];$(e).val(l)}}function channelFilter(e,t=0,a){let n=$(e).attr("for");t?1==t?($(`input#${n}[checked]`).prop("checked",!0),$(`ul li[username='${n.split("_")[1]}']`).show(),$(`ul label[username='${n.split("_")[1]}']`).show(),$(`.channelFilterWrap input:not([id='${n}'])`).prop("checked",!1),$(`ul li:not([username='${n.split("_")[1]}'])`).hide(),$(`ul label:not([username='${n.split("_")[1]}'])`).hide()):(a.preventDefault(),$(".channelFilterWrap input[checked]").prop("checked",!0),$("ul li, ul label").show()):$(`input#${n}[checked]`).length&&($(`input#${n}[checked]`).prop("checked")?($(`ul li[username='${n.split("_")[1]}']`).hide(),$(`ul label[username='${n.split("_")[1]}']`).hide()):($(`ul li[username='${n.split("_")[1]}']`).show(),$(`ul label[username='${n.split("_")[1]}']`).show())),addTitleNum()}function themeRange(e){let t=zero($(e).val(),3);$(e).attr({deg:+t}),cookie.hueRotate[cookie.theme]=t,document.cookie=`hueRotate=${JSON.stringify(cookie.hueRotate)};expires=${cookieDate}`,getHueRotate()}function getHueRotate(){$("style[hueRotate]")&&$("style[hueRotate]").remove(),$("head").append(`\n    <style hueRotate>\n      .rightFilter>div, .rightFilter:before, #title, .getLang:before, .rightMenu label, \n      .rightMenu:before, .scrollTop:before, ul li h4, li h8 div[fn], ul li[type="comments"] h8>div,\n      li[type="settings"] input[type="range"], li[type="settings"] label, ul .reset,\n      .add:hover:before, li[type="settings"] input[type="text"], ul .ignore, .help,\n      li[type="settings"]:not([content$="Anti"]) h8>div a:hover, li[type="settings"] nav:after,\n      li[type="settings"] nav wrap:after, li[type="settings"] nav:hover wrap>a, div[load],\n      input[type="checkbox"][id^="arrow"]:not([id*="Cookie"])[id*="comments"]:after,\n      li[type="settings"] nav:hover wrap>input[type="text"], .getTheme:before, .getTheme input:checked+label\n      {filter: hue-rotate(${cookie.hueRotate[cookie.theme]}deg)}\n\n      li>h4>a[datetype='online'], li>h4>.deleteLi:hover, li>h8 div[delete], img.smile, \n      .channelFilterWrap > a input[checked]:not(:checked) + label:before,\n      .channelFilterWrap > a input:checked:not([checked]) + label:before,\n      body main ul li[type="settings"] input[type="checkbox"]:not([checked]):checked+label[icon]:after,\n      body main ul li[type="settings"] input[type="checkbox"][checked]:not(:checked)+label[icon]:after\n      {filter: hue-rotate(-${cookie.hueRotate[cookie.theme]}deg)}\n\n    </style>\n  `)}function UTCRange(e){let t=$(e).val(),a=+t>=0?1:-1,n=Math.floor(t/(4*a)),l=zero(15*(+t-4*n*a)*a);$(e).attr({deg:`${t>=0?"+"+n:"-"+n}:${l}`}),cookie.UTC=t,document.cookie=`UTC=${cookie.UTC};expires=${cookieDate}`}function objectCookie(e){let t=String(+$(e).prop("checked")),a=$(e).attr("id").slice(0,-6);cookie.turn[a][hash]=t,document.cookie=`turn=${JSON.stringify(cookie.turn)};expires=${cookieDate}`}function settingsKeyDown(e,t,a){let n=a.which>=48&&a.which<=57,l=a.key>="a"&&a.key<="z"||a.key>="A"&&a.key<="Z"||8==a.keyCode;filter(["same","notesUser"],hash+e)&&(!l&&!n&&";"!=a.key||""==$(t).val()&&!isNaN(a.key))&&a.preventDefault()}function settingsKeyUp(e,t,a){filter(["same"],hash)&&(isNaN($(t).val().slice(0,1))||$(t).val($(t).val().slice(1))),filter(["TriggerValue"],e)&&isNaN($(t).val())&&$(t).val(""),13==a.which&&"TriggerValue"!=e&&settingsAdd(e,$(t).siblings(`${"Anti"==e?".ignore":".add"}`))}function settingsAdd(e,t){let a=$(t).siblings("input[type='text']").val().split(";");for(let n=0;n<a.length;n++){let l=a[n];if(l&&" "!=l&&!$(`li[content="${hash+e}"] div[group="${l.toLowerCase()}"]`).length){$(`ul li[content='${hash+e}'] h4`).length||appendLiContent(e),$(`ul li[content='${hash+e}'] h4`).attr({display:1});let a=" "==l.slice(0,1)?"➝"+l.slice(1):l;if((filterOnly(["same","fbi","notes","tags"],hash)||"Anti"==e)&&$(`ul li[content='${hash+e}'] h8`).append(`\n          <div group="${l.toLowerCase()}" title="«${a.replace(/➝/g," ")}»" new>  \n            <a target="_blank" ${hash+e=="same"||hash+e=="notesUser"?`href="https://twitch.tv/${l}"`:""}>${a}</a>\n            <input type="checkbox" id="delete_${hash+e}_${l}">\n            <label for="delete_${hash+e}_${l}" view="button_red" class="delete" name="${translate([pathname,"delete"])}" onclick="settingsDelete('${e}', this); return false"></label> \n          </div>\n        `),filterOnly(["same"],hash)){$(`ul li[content='${hash}'] h8 div[group="${l.toLowerCase()}"] #delete_${hash+e}_${l}`).before(`\n          <a target="_blank" type="screen" \n            href="${returnURL(1600,900,l.toLowerCase())}" \n            style="background-image: url(${returnURL(160,80,l.toLowerCase())})"\n          ></a> \n        `);for(let t=0;t<pageSet.topMenu.tracking.length;t++){let a=pageSet.topMenu.tracking[t],n=$(`.${hash}Add #${a}_${hash}Add`).prop("checked");$(`ul li[content='${hash}'] h8 div[group="${l.toLowerCase()}"] #delete_${hash+e}_${l}`).before(`\n            <input type="checkbox" id="${a}_${l}" ${n?"checked":""}>\n            <label for="${a}_${l}" bg="_h:dark_c:color_ch:color" icon="${a}"></label>\n          `)}}if(filterOnly(["main"],hash))if(""==e)if($(`wrap[trigger="${l.toLowerCase()}"]`).length)alert("err");else{let t=$(`ul li[content='${hash}'] div[group]`).length;$(`ul li[content='${hash}'] h8`).append(`\n              <div group="${l.toLowerCase()}" title="«${a.replace(/➝/g," ")}»" new>  \n                <a target>${a}</a>\n                <color><div style="background-color: ${colorArr[t]}" num="${t}" onclick="getColor(this)"></div></color>\n                <input type="text" onkeyup="${pathname}KeyUp('Trigger', this, event);">\n                <div view="button" class="add" name="${translate([pathname,"add"])}" onclick="${pathname}Add('Trigger', this)"></div>\n                <input type="checkbox" id="delete_${hash+e}_${l}">\n                <label for="delete_${hash+e}_${l}" view="button_red" class="delete" name="${translate([pathname,"delete"])}" onclick="${pathname}Delete('', this); return false"></label> \n              </div>\n              <input type="checkbox" id="arrow_${hash+e}_${l.toLowerCase()}">\n              <label for="arrow_${hash+e}_${l.toLowerCase()}" icon="arrow"></label>\n              <nav group="${l.toLowerCase()}">\n                <wrap trigger="${l.toLowerCase()}" title="«${a.replace(/➝/g," ")}»" new>\n                  <a target>${a}</a>\n                  <input type="text" maxlength="4" maxlength="1" min="0" value="1" onkeyup="${pathname}KeyUp('TriggerValue', this, event);">\n                  <input type="checkbox" id="delete_${hash+e}_${l}_1">\n                  <label for="delete_${hash+e}_${l}_1" view="button_red" class="delete" name="${translate([pathname,"delete"])}" onclick="${pathname}Delete('Trigger', this); return false"></label> \n                </wrap>\n              </nav>\n            `)}else if("Trigger"==e){let a=$(t).siblings("a").html(),n=+$(`li[content="${hash}"] nav[group="${a}] wrap"`).length+1;$(`wrap[trigger="${l.toLowerCase()}"]`).length?alert("err"):$(`ul li[content='${hash}'] h8 nav[group="${a}"]`).append(`\n              <wrap trigger="${l}" new>\n                <a target>${l.toLowerCase()}</a>\n                <input type="text" maxlength="4" maxlength="1" min="0" value="1" onkeyup="${pathname}KeyUp('TriggerValue', this, event);">\n                <input type="checkbox" id="delete_${hash+e}_${a}_${n}">\n                <label for="delete_${hash+e}_${a}_${n}" view="button_red" class="delete" name="${translate([pathname,"delete"])}" onclick="${pathname}Delete('Trigger', this); return false"></label> \n              </wrap>\n            `)}}else alert("err")}$(t).siblings("input[type='text']").val("").siblings("input[type='checkbox']:not([id^='delete'])").prop("checked",!0),$(`li[content='${hash+e}Add'] h4`).attr({sum:$(`li[content='${hash+e}'] h8 div[group]`).length})}function settingsDelete(e,t){let a=$(t).siblings("a").html();if(""==$(t).parent().attr("new")&&confirm(`${translate([pathname,"delete"])} #${a}?`)){$(t).parent().siblings(`nav[group="${a}"]`).detach(),$(`label[for='arrow_${hash+e}_${a}'], #arrow_${hash+e}_${a}`).detach(),$(t).parent().detach();let n=$(`li[content='${hash+e}'] h8 div[group]`).length;$(`li[content='${hash+e}Add'] h4`).attr({sum:n}),n?$(`li[content='${hash+e}'] h4`).attr({display:1}):$(`li[content='${hash+e}']`).detach()}}function settingsSave(e){let t={},a=$("li[content$='Add']").length;for(let n=0;n<a;n++){let a=$("li[content$='Add']").eq(n).attr("content").slice(String(e).length,-3),l=$(`li[content='${e+a}'] h8>div`);if(filterOnly(["main"],e+a)){t[e+a]={},infoBot.memes={};for(let n=0;n<l.length;n++){let i=l.eq(n).children("a").html(),o=l.eq(n).children("color").children("div").attr("num"),r=$(`li[content='${e+a}'] h8 nav[group="${i.toLowerCase()}"] wrap`);if(t[e+a][i]={color:o,value:{}},!l.eq(n).children("[id^='delete_']").prop("checked")&&r.length&&r.children("[id^='delete_']").prop("checked").length!=r.length){for(let n=0;n<r.length;n++)if(!r.eq(n).children("[id^='delete_']").prop("checked")){let l=r.eq(n).children("a").html(),o=r.eq(n).children("input[type='text']").val();t[e+a][i].value[l]=o}infoBot.memes[i]=o,t[e+a][i].value=JSON.stringify(t[e+a][i].value)}else delete t[e+a][i]}t[e+a]=Object.keys(t[e+a]).length?t[e+a]:0}else{t[e+a]=filterOnly(["same"],e+a)?{}:[],filterOnly(["same"],e+a)&&(infoBot.channels={});for(let n=0;n<l.length;n++)if(!l.eq(n).children("input[id^='delete_']").prop("checked"))if(filterOnly(["same"],e+a)){let i=l.eq(n).children("a").html(),o=pageSet.topMenu.tracking;t[e+a][i]={};for(let r=0;r<o.length;r++){let s=l.eq(n).children(`#${o[r]}_${i}`).prop("checked");t[e+a][i][o[r]]=s}infoBot.channels[i]=t[e+a][i],t[e+a][i]=JSON.stringify(t[e+a][i]).replace(/"/g,"")}else t[e+a].push(l.eq(n).children("a").html());filterOnly(["same"],e+a)?t[e+a]=Object.keys(t[e+a]).length?t[e+a]:0:t[e+a]=t[e+a].length?t[e+a]:0}$(".loadCode input").prop("checked")||($(`li[content='${e+a}Add'] h8`).attr({sum:0}),$(`li[content="${e+a}"]`).detach())}$(".loadCode input").prop("checked")?alert(translate(["reboot"])):($.ajax({url:pathname+"Save",method:"get",data:{box:t},success:e=>setTimeout(()=>{"settings"==pathname&&loadSettings(pathname)},2e3)}),$(".loadCode input").prop("checked",!0))}function rightRange(e){let t=e?$(e).val():0,a=parent(e,2).attr("sID");canvas(e,t);let n=filter(["main","archive"],pathname)?Object.keys(content[a])[t]:"allTriggers"!=Object.values(content[a].list)[t]?Object.values(content[a].list)[t]:"Все";$(e).attr({meme:n}),$(e).parent().siblings("h4").attr({meme:n,sum:$(e).attr("m"+t)}),$(e).siblings(".allMaxLine").children("dot").attr({hover:0}).siblings(`dot[meme="m${t}"]`).attr({hover:cookie.turn.maxline[pathname]})}function bottomRange(e){let t=+$(e).val(),a=+$(e).attr("max");$(e).attr({percent:Math.round(100*t/a)}),$(e).siblings(".graphX").children(".graph, .graphMin").css("left",-5*t*xW(parent(e,2).attr("username")))}function dotclick(e){let t=+$(e).attr("meme").slice(1),a=$(e).parent().siblings(".rightRange"),n=parent(e,3).attr("sID"),l=+parent(e).siblings(".graphX").children(".graphAim").height();document.getElementById(`aim${n}`).getContext("2d").clearRect(0,0,widthLi(),l),canvas(a,t),a.val(t).attr({meme:Object.keys(content[n])[t]}),parent(e,2).siblings("h4").attr({meme:Object.keys(content[n])[t],sum:a.attr("m"+t)}),$(e).parent().children("dot").attr({hover:0}).siblings(`dot[meme="m${t}"]`).attr({hover:1})}function openLi(e){let t=parent(e,3).attr("sID");$(`#arrow_${("archive"==pathname?"main":"comments")+t}`).prop({checked:!1})}function canvas(e,t){let a=+parent(e,2).attr("sID"),n=parent(e,2).attr("username"),l=+$(e).siblings(".graphX").attr("min"),i=+$(e).siblings(".graphX").attr("max"),o=+$(e).attr("max"),r=+$(e).siblings(".graphX").children(".graph").attr("width"),s=+$(e).siblings(".graphX").children(".graph").attr("height"),c=document.getElementById(`canvas${a}`).getContext("2d"),h=document.getElementById(`min${a}`).getContext("2d"),d=0;c.clearRect(0,0,r,s),h.clearRect(0,0,r,40),canvasTimer(c,h,n,l,i,s,r),c.beginPath(),h.beginPath();let g=Object.keys(content[a])[t],p=colorArr[infoBot.memes[g]];c.fillStyle=h.fillStyle=p+"cc";try{if(filter(["main","archive"],pathname)){c.moveTo(0,s),h.moveTo(0,s);for(let e=5*Math.floor((l-1)/5);e<=5*Math.round((i+1)/5);e++){let t=e<l?0:e>i?0:Math.round(content[a][g]["g"+e]);c.lineTo((e-l+1)*xW(n),s-t*xH(n)),c.lineTo((e-l+2)*xW(n),s-t*xH(n)),c.lineTo((e-l+2)*xW(n),s),h.lineTo((e-l+1)*xW(n),40-t*xH(n)/5),h.lineTo((e-l+2)*xW(n),40-t*xH(n)/5),h.lineTo((e-l+2)*xW(n),40),d=t>d?t:d}if(c.fill(),h.fill(),"1"==cookie.turn.maxline[pathname]){c.beginPath(),c.moveTo(0,s-1-d*xH(n)),c.lineTo(r,s-1-d*xH(n)),c.strokeStyle=h.strokeStyle=p,c.stroke(),c.textAlign="center",h.beginPath(),h.moveTo(0,39-d*xH(n)/5),h.lineTo(r,39-d*xH(n)/5),h.stroke();for(let e=Math.floor(l/15);e<=2*Math.round(i/15);e+=2){let t=s-5-d*xH(n)<=10?10:s-5-d*xH(n);c.fillText(Math.ceil(d),15*xW(n)*(e-Math.floor(l/15)+.5),t)}}}else{let e=content[a].list[t];for(let l=0;l<content[a][e].map.length;l++){let i=Number(String(content[a][e].map[l]).split(":")[0]),r=Number(String(content[a].allTriggers.map[o==+t?l:i]).split(":")[1]),d=o==+t?i:Number(String(content[a].allTriggers.map[i]).split(":")[0]);c.beginPath(),c.fillStyle=h.fillStyle=colorArr[infoBot.memes[content[a].oldlist[r]]]+"cc",c.moveTo(l*xW(n),s),c.lineTo(l*xW(n),s-d*xH(n)),c.lineTo((l+1)*xW(n),s-d*xH(n)),c.lineTo((l+1)*xW(n),s),c.fill(),h.beginPath(),h.moveTo(l*xW(n),40),h.lineTo(l*xW(n),(s-d*xH(n))/5),h.lineTo((l+1)*xW(n),(s-d*xH(n))/5),h.lineTo((l+1)*xW(n),40),h.fill()}}}catch(e){console.error(e)}}function smallLine(e,t,a,n,l){for(let i=1;i<3;i++)e.beginPath(),e.moveTo(5*xW(a)*(3*n+i),0),e.lineTo(5*xW(a)*(3*n+i),l),e.strokeStyle=t.strokeStyle="#0002",e.stroke(),e.clearRect(5*xW(a)*(3*n+i),0,1,l),t.beginPath(),t.moveTo(5*xW(a)*(3*n+i),0),t.lineTo(5*xW(a)*(3*n+i),40),t.stroke(),t.clearRect(5*xW(a)*(3*n+i),0,1,40)}function dotted(e,t,a,n,l){e.strokeStyle=t.strokeStyle="#0004";let i=0,o=l/5;for(let l=0;l<o;l++)e.beginPath(),e.moveTo(15*xW(a)*(n+1),i),e.lineTo(15*xW(a)*(n+1),i+3),e.stroke(),t.beginPath(),t.moveTo(15*xW(a)*(n+1),i),t.lineTo(15*xW(a)*(n+1),i+3),t.stroke(),i+=5;e.clearRect(15*xW(a)*n,0,1,l),t.clearRect(15*xW(a)*n,0,1,40)}function canvasTimer(e,t,a,n,l,i,o){let r=Math.ceil(100/xH(a)),s=!1;e.beginPath(),t.beginPath(),e.textAlign="center";let c=Math.round(l/5)+ +cookie.UTC;for(let l=0;l<=c+10;l++){e.fillStyle=t.fillStyle="#0004",e.lineWidth=t.lineWidth=1;let o=l%2=="0"?"00":"30",c=zero(Math.floor(l/2)%24),h=l-2*Math.floor(n/(5*xW(a)));filter(["main","archive"],pathname)&&e.fillText(`${c} ${o}`,15*xW(a)*(h-Math.round(+cookie.UTC/2)),(i-10-r*xH(a))/2),s?(e.beginPath(),e.moveTo(15*xW(a)*(h-1),0),e.lineTo(15*xW(a)*(h-1),i),e.strokeStyle=t.strokeStyle="#0006",e.stroke(),e.clearRect(15*xW(a)*(h-1),0,1,i),e.fillText(r,15*xW(a)*(h+.5),i-5-r*xH(a)),t.beginPath(),t.moveTo(15*xW(a)*(h-1),0),t.lineTo(15*xW(a)*(h-1),40),t.stroke(),t.clearRect(15*xW(a)*(h-1),0,1,40)):dotted(e,t,a,h,i),smallLine(e,t,a,h,i),s=!s,"1"==cookie.turn.midnight[pathname]&&"00"==c&&"00"==o&&(e.beginPath(),e.moveTo(15*xW(a)*(h-Math.round(+cookie.UTC/2)),0),e.lineTo(15*xW(a)*(h-Math.round(+cookie.UTC/2)),i),e.lineWidth=t.lineWidth=2,e.strokeStyle=t.strokeStyle="#0006",e.stroke(),t.beginPath(),t.moveTo(15*xW(a)*(h-Math.round(+cookie.UTC/2)),0),t.lineTo(15*xW(a)*(h-Math.round(+cookie.UTC/2)),40),t.stroke())}for(let n=1;n<4;n++)e.beginPath(),e.moveTo(0,(i-r*xH(a))/2*n),e.lineTo(o+100,(i-r*xH(a))/2*n),e.strokeStyle=e.strokeStyle=2==n?"#0006":"#0004",e.stroke(),e.clearRect(0,(i-r*xH(a))/2*n,o,1),2==n&&(t.beginPath(),t.moveTo(0,(40-r*xH(a)/5)/2*n),t.lineTo(o+100,(40-r*xH(a)/5)/2*n),t.stroke(),t.clearRect(0,(40-r*xH(a)/5)/2*n,o,1))}function clearCanvas(e){let t=parent(e,3).attr("sID"),a=+$(e).height(),n=document.getElementById(`aim${t}`).getContext("2d");0==$("#awayMove:hover").length&&n.clearRect(0,0,widthLi(),a)}function awayMove(e){try{let t=+cookie.turn.chat[pathname]?$(e).attr("href").split("video=v")[1].split("&")[0]:$(e).attr("href").split("videos/")[1].split("?")[0],a=$(`#aim${t}`).height();document.getElementById(`aim${t}`).getContext("2d").clearRect(0,0,widthLi(),a)}catch(e){}}function getCanvasXY(e,t){let a=parent(e,3).attr("sID"),n=parent(e,3).attr("username"),l=+$(`#aim${a}`).height(),i=(parent(e).attr("sS")- -6e4*(new Date).getTimezoneOffset())%864e5,o=+parent(e).attr("min"),r=+parent(e).siblings(".rightRange").val(),s=+parent(e).siblings(".bottomRange").val(),c=document.getElementById(`aim${a}`).getContext("2d"),h=t.offsetX,d=t.offsetY,g="g"+(Math.floor((h+5*s*xW(n))/xW(n))+o-(filter(["main","archive"],pathname)?1:0));c.clearRect(0,0,widthLi(),l);let p=content[a][g.slice(1)]?content[a][g.slice(1)]:{v:0,m:0,g:0};filter(["best"],pathname)&&([p.v,p.m,p.g]=String(content[a].allTriggers.map[$(`li[sID="${a}"] .rightRange`).val()==+$(`li[sID="${a}"] .rightRange`).attr("max")?+g.slice(1):content[a][content[a].list[r]].map[+g.slice(1)]]).split(":"),p.m=content[a].oldlist[p.m]);let m=filter(["main","archive"],pathname)?Math.round(content[a][Object.keys(content[a])[r]][g]):p.v,u=filter(["main","archive"],pathname)?12e4*+g.slice(1)-i- -12e4*(new Date).getTimezoneOffset():12e4*p.g-i- -12e4*(new Date).getTimezoneOffset();try{c.beginPath(),c.fillStyle="#0009",m&&(c.fillRect(Math.round((h-xW(n)/2)/xW(n))*xW(n),l-m*xH(n),xW(n),m*xH(n)),$("#awayMove").attr({href:`${url(a)}&t=${tLS2(tLS(u,timeSet),timeSet)}`}))}catch(t){$("#awayMove").removeAttr("href")}if($("#awayMove").css({top:$(window).scrollTop()+t.y-41+"px",left:h+9+"px"}).attr({x:h,y:d}),c.beginPath(),c.moveTo(0,d),c.lineTo(widthLi(),d),c.stroke(),c.beginPath(),c.moveTo(h,0),c.lineTo(h,l),c.stroke(),m&&"undefined"!=m){let t=h+10,a=h+10,l=d-10,i=d+20,o="start",r="start";d>180&&(r="end",i=l,a=h-10),d<20&&(o="end",l=i,t=h-10),d>180&&h<5*xW(n)*(s+1)&&(r="start",i=l,a=h+35),d<20&&h<5*xW(n)*(s+1)&&(o="start",l=i,t=h+10,a=h+35),h>5*xW(n)*(s+23)&&(o=r="end",t=a=h-10),d>180&&h>5*xW(n)*(s+23)&&(r="end",i=l,a=h-35),d<20&&h>5*xW(n)*(s+23)&&(o="end",l=i,t=h-10,a=h-35),c.beginPath(),c.fillStyle="#0009",c.font="bold 14px sans-serif",c.textAlign=o,filter(["best"],pathname)&&parent(e).siblings(".rightRange").val()==+parent(e).siblings(".rightRange").attr("max")&&(m+=` [${p.m}]`),c.fillText(m,t,l),c.textAlign=r,c.fillText(tLS(u,timeSet),a,i)}}function graphXWheel(e,t,a=0){t.preventDefault();let n=t.deltaY>0?1:-1;try{let l=a?parent(e,3).attr("sID"):"1"!=cookie.turn.chat[pathname]?$(e).attr("href").split("videos/")[1].split("?")[0]:$(e).attr("href").split("video=v")[1].split("&")[0],i=`li[sID='${l}']`,o=a?parent(e,3).attr("username"):$(e).attr("username");if(16==+keyFilter){let e=+$(`${i} .rightRange`).val()+n;if(e>=0&&e<=$(`${i} .rightRange`).attr("max")){let t=Object.keys(content[l])[e];$(`${i} .rightRange`).val(e).attr({meme:t}),$(`${i} .allMaxLine>dot`).attr({hover:0}),$(`${i} .allMaxLine>dot[meme="m${e}"]`).attr({hover:1}),$(`${i} h4`).attr({meme:t,sum:$(`${i} .rightRange`).attr("m"+e)}),canvas(`${i} .rightRange`,e)}getCanvasXY(`#aim${l}`,{offsetX:+$("#awayMove").attr("x"),offsetY:+$("#awayMove").attr("y")})}else{let e=$(`${i} .bottomRange`),t=+e.val()+n;0<=t&&t<=+e.attr("max")&&(e.val(t),e.siblings(".graphX").children(".graph, .graphMin").css("left",-5*t*xW(o)),getCanvasXY(`#aim${l}`,{offsetX:+$("#awayMove").attr("x"),offsetY:+$("#awayMove").attr("y")}))}}catch(t){}}let wH=+$(window).height(),loadLimit=10;var keyFilter=0;let dateSet={day:"2-digit",month:"2-digit",year:"numeric"},timeSet={hour:"2-digit",minute:"2-digit",second:"2-digit"},pathname=location.pathname.slice(1),hash=location.hash.slice(1);var content={},infoBot={};let get={};function createGet(){if(get[pathname]||(get[pathname]={}),""!=window.location.search.slice(1)){let e=window.location.search.slice(1).split("&");for(let t=0;t<e.length;t++)get[pathname][e[t].split("=")[0]]=e[t].split("=")[1]}}function getToObj(e){if(get[pathname]={},1!=e){e=e.slice(1).split("&");for(let t=0;t<e.length;t++)get[pathname][e[t].split("=")[0]]=e[t].split("=")[1]}}function getToString(){if(get[pathname]&&Object.keys(get[pathname]).length){let e="";for(let t=0;t<Object.keys(get[pathname]).length;t++)e+=`&${Object.keys(get[pathname])[t]}=${Object.values(get[pathname])[t]}`;return"?"+e.slice(1)}return""}var langObj={ru:{loading:"Загружаем",reboot:"Перезагрузка бота",pages:{main:"Графики",best:"Лучшее",fbi:"FBI",notes:"Заметки",tags:"Теги",archive:"Архив",calendar:"Календарь",settings:"Настройки",database:"База данных",help:"Помощь"},menu:{autoload:"Автозагрузка",autoloadNodata:"Данных нет",autoloadCompleted:"Всё загружено",filter:{name:"Фильтр",same:"Общее",theme:"Оформление",active:"Отфильтровать",less:"меньше",more:"больше",resetAll:"Сброс всех фильтров",resetAllConfirm:"Подтвердите сброс всех фильтров для страницы #",resetAllSettings:"Сброс всех настроек",resetAllConfirmSettings:"Подтвердите сброс всех настроек для страницы #",wrap:{date:"По дате",pop:"По популярности",duration:"По длительности",channel:"По каналам"}}},settings:{activePage:"Действия на странице",UTC:"Часовой пояс",add:"Добавить",ignore:"Игнорировать",delete:"Удалить",save:"Сохранить",total:"Суммарно",reset:"Сброс",success:"Успех",resetConfirm:"Подтвердите сброс настроек для страницы",theme:{title:"Кастомизация палитры сайта"},same:{add:"Добавить новый канал",title:"Список каналов",subtitle:"Отслеживание"},main:{add:"Добавить новую группу",title:"Список групп",subtitle:"Список триггеров",addAnti:"Исключить из отслеживания",titleAnti:"Список исключенного"},fbi:{add:"Добавить новое отслеживание",title:"Список отслеживаемого",addAnti:"Исключить из отслеживания",titleAnti:"Список исключенного"},notes:{addUser:"Добавить нового пользователя для отслеживания",titleUser:"Список отслеживаемых пользователей",add:"Добавить новый триггер",title:"Список триггеров",addAnti:"Исключить из отслеживания",titleAnti:"Список исключенного"},tags:{add:"Добавить новый тег",title:"Список тегов",addAnti:"Исключить из отслеживания",titleAnti:"Список исключенного"}},time:{online:"онлайн",today:"сегодня",yesterday:"вчера"},help:{get archive(){return`» ${translate(["pages","archive"])}`},settings:{cookie_help:"Показывать подсказки",cookie_filter:"Автовключение<br>фильтра",cookie_autoload:"Автозагрузка контента",cookie_arrow:"Сворачивать<br>контейнеры",cookie_same:"Обрезать<br>одинаковое",cookie_old:"Помечать старые<br>данные",cookie_chat:"Скрывать чат на Twitch",cookie_link:"Отображать ссылки",cookie_smile:"Отображать смайлики",cookie_maxline:"Линия максимального значения",cookie_midnight:"Линия полуночи"},fn:{get main(){return`${translate(["pages","fbi"])}<br>${translate(["pages","notes"])}<br>${translate(["pages","tags"])}`},get fbi(){return`${translate(["pages","main"])}<br>${translate(["pages","notes"])}<br>${translate(["pages","tags"])}`},get notes(){return`${translate(["pages","main"])}<br>${translate(["pages","fbi"])}<br>${translate(["pages","tags"])}`},get tags(){return`${translate(["pages","main"])}<br>${translate(["pages","fbi"])}<br>${translate(["pages","notes"])}`}},sort:{order:"Способ сортировки",get id(){return translate(["menu","filter","wrap","date"])},get pop(){return translate(["menu","filter","wrap","pop"])},get duration(){return translate(["menu","filter","wrap","duration"])}}}},en:{loading:"Loading",reboot:"Bot reboot",pages:{main:"Main",best:"Best",fbi:"FBI",notes:"Notes",tags:"Tags",archive:"Archive",calendar:"Calendar",settings:"Settings",database:"Database",help:"Help"},menu:{autoload:"Autoload",autoloadNodata:"No data",autoloadCompleted:"All uploaded",filter:{name:"Filter",same:"Same",theme:"Decor",active:"Filter out",less:"less",more:"more",resetAll:"Reset all filters",resetAllConfirm:"Confirm reset all filters for page #",resetAllSettings:"Reset all settings",resetAllConfirmSettings:"Confirm reset all settings for page #",wrap:{date:"By date",pop:"By popularity",duration:"By duration",channel:"By channels"}}},settings:{activePage:"Actions on the page",UTC:"Timezone",add:"Add",ignore:"Ignore",delete:"Delete",save:"Save",total:"Total",reset:"Reset",success:"Success",resetConfirm:"Confirm reset for page",theme:{title:"Site palette customization"},same:{add:"Add new channel",title:"Channel list",subtitle:"Tracking"},main:{add:"Add new group",title:"Group list",subtitle:"Trigger list",addAnti:"Exclude from tracking",titleAnti:"Excluded list"},fbi:{add:"Add new tracking",title:"Track List",addAnti:"Exclude from tracking",titleAnti:"Excluded list"},notes:{addUser:"Add new user to track",titleUser:"List of tracked users",add:"Add new trigger",title:"Trigger list",addAnti:"Exclude from tracking",titleAnti:"Excluded list"},tags:{add:"Add new tag",title:"Tag list",addAnti:"Exclude from tracking",titleAnti:"Excluded list"}},time:{online:"online",today:"today",yesterday:"yesterday"},help:{get archive(){return`» ${translate(["pages","archive"])}`},fn:{get main(){return`${translate(["pages","fbi"])}<br>${translate(["pages","notes"])}<br>${translate(["pages","tags"])}`},get fbi(){return`${translate(["pages","main"])}<br>${translate(["pages","notes"])}<br>${translate(["pages","tags"])}`},get notes(){return`${translate(["pages","main"])}<br>${translate(["pages","fbi"])}<br>${translate(["pages","tags"])}`},get tags(){return`${translate(["pages","main"])}<br>${translate(["pages","fbi"])}<br>${translate(["pages","notes"])}`}},settings:{cookie_help:"Show hints",cookie_filter:"Auto Filter On",cookie_autoload:"Content autoload",cookie_arrow:"Collapse containers",cookie_old:"Mark old data",cookie_chat:"Hide Twitch Chat",cookie_link:"Show links",cookie_smile:"Show emoticons",cookie_maxline:"Maximum value line",cookie_midnight:"Midnight line"},sort:{order:"Sorting method",get id(){return translate(["menu","filter","wrap","date"])},get pop(){return translate(["menu","filter","wrap","pop"])},get duration(){return translate(["menu","filter","wrap","duration"])}}}}};const colorArr=["#1abc9c","#16a085","#2ecc71","#27ae60","#3498db","#2980b9","#9b59b6","#8e44ad","#34495e","#2c3e50","#f1c40f","#f39c12","#e67e22","#d35400","#e74c3c","#c0392b","#7ed6df","#22a6b3","#badc58","#6ab04c","#30336b","#130f40","#fd79a8","#e84393"],colorObj={day:{color1:"#55883a",color2:"#7fa66b",color3:"#aec8a0",color4:"#d4e7c9",colorLight:"#d4e7c9",colorMiddle:"#80AF69",colorDark:"#55883a",red:"#DD5145",green:"#92C477",dark1:"#333333",dark2:"#cccccc",dark3:"#999999",dark4:"#bbbbbb",dark5:"#dddddd",dark6:"#f5f5f5",dark7:"#f9f9f9",dark8:"#ffffff"},night:{color1:"#678A54",color2:"#4C683E",color3:"#597A49",color4:"#293E1C",colorLight:"#678A54",colorMiddle:"#678E50",colorDark:"#293E1C",red:"#DD5145",green:"#92C477",dark1:"#777777",dark2:"#333333",dark3:"#888888",dark4:"#222222",dark5:"#222222",dark6:"#444444",dark7:"#484848",dark8:"#606060"},guru:{color1:"#678A54",color2:"#4C683E",color3:"#597A49",color4:"#293E1C",colorLight:"#999999",colorMiddle:"#678E50",colorDark:"#293E1C",red:"#DD5145",green:"#92C477",dark1:"#777777",dark2:"#333333",dark3:"#888888",dark4:"#222222",dark5:"#222222",dark6:"#444444",dark7:"#484848",dark8:"#606060"},dandelion:{color1:"#678A54",color2:"#4C683E",color3:"#597A49",color4:"#293E1C",colorLight:"#dddddd",colorMiddle:"#678E50",colorDark:"#293E1C",red:"#DD5145",green:"#92C477",dark1:"#333333",dark2:"#888888",dark3:"#999999",dark4:"#777777",dark5:"#777777",dark6:"#f5f5f5",dark7:"#f9f9f9",dark8:"#ffffff"}},graphPages=["main","best"],commentPages=["fbi","notes","tags"],allPages=[...graphPages,...commentPages,"archive","settings"],settingsPages=["theme","same",...allPages,"help"];var pageSet={topMenu:{tracking:["main",...commentPages]},turn:{list:["help","theme","filter","autoload","arrow","old","chat","username","same","url","smile","maxline","midnight","scrollTop"],auto:{help:[...settingsPages],filter:["settings"]},show:{help:["theme",...allPages],filter:[...commentPages,...graphPages,"archive"],autoload:[...commentPages,...graphPages,"archive"],arrow:[...commentPages,...graphPages,"archive"],old:[...commentPages,...graphPages,"archive"],chat:[...commentPages,...graphPages,"archive"],username:[...commentPages,"archive"],same:[...commentPages,"archive"],url:[...commentPages,"archive"],smile:[...commentPages,"archive"],maxline:[...graphPages,"archive"],midnight:["main","archive"],theme:["theme"],scrollTop:["theme"]}},ban:{autoload:["settings"]},settings:{add:{same:[""],main:["","Anti"],fbi:["","Anti"],notes:["User","","Anti"],tags:["","Anti"]}}};let zzz=pageSet.turn.list;for(let e=0;e<zzz.length;e++)pageSet.turn.show[zzz[e]]||(pageSet.turn.show[zzz[e]]=[]),pageSet.turn.auto[zzz[e]]||(pageSet.turn.auto[zzz[e]]=[]),pageSet.ban[zzz[e]]||(pageSet.ban[zzz[e]]=[]);try{module.exports=[allPages,pageSet.settings.add]}catch(e){}var smiles={"4Header":"https://cdn.glitch.com/7cd0afc9-1177-4a8c-b108-1a9956a78c77%2F1(49).png?v=1572025192565","4Head":"https://cdn.glitch.com/7cd0afc9-1177-4a8c-b108-1a9956a78c77%2F1%20(38).png?v=1572023660066",BibleThump:"https://cdn.glitch.com/7cd0afc9-1177-4a8c-b108-1a9956a78c77%2F1%20(39).png?v=1572023660264",cemka4CB:"https://cdn.glitch.com/7cd0afc9-1177-4a8c-b108-1a9956a78c77%2F1%20(40).png?v=1572023663264",cemkaBait:"https://cdn.glitch.com/7cd0afc9-1177-4a8c-b108-1a9956a78c77%2F1%20(41).png?v=1572023660641",cemkaBaka:"https://cdn.glitch.com/7cd0afc9-1177-4a8c-b108-1a9956a78c77%2F1%20(42).png?v=1572023661319",cemkaBob:"https://cdn.glitch.com/7cd0afc9-1177-4a8c-b108-1a9956a78c77%2F1%20(43).png?v=1572023661368",cemkaBoi:"https://cdn.glitch.com/7cd0afc9-1177-4a8c-b108-1a9956a78c77%2F1%20(44).png?v=1572023661291",cemkaChamp:"https://cdn.glitch.com/7cd0afc9-1177-4a8c-b108-1a9956a78c77%2F1%20(45).png?v=1572023662332",cemkaCry:"https://cdn.glitch.com/7cd0afc9-1177-4a8c-b108-1a9956a78c77%2F1%20(46).png?v=1572023662279",cemkaEbalo:"https://cdn.glitch.com/7cd0afc9-1177-4a8c-b108-1a9956a78c77%2F1%20(48).png?v=1572023654214",cemkaE:"https://cdn.glitch.com/7cd0afc9-1177-4a8c-b108-1a9956a78c77%2F1%20(47).png?v=1572023662514",cemkaGEK:"https://cdn.glitch.com/7cd0afc9-1177-4a8c-b108-1a9956a78c77%2F1%20(1).png?v=1572023657104",cemkaHype:"https://cdn.glitch.com/7cd0afc9-1177-4a8c-b108-1a9956a78c77%2F1%20(2).png?v=1572023654096",cemkaKappa:"https://cdn.glitch.com/7cd0afc9-1177-4a8c-b108-1a9956a78c77%2F1%20(3).png?v=1572023654234",cemkaKEK:"https://cdn.glitch.com/7cd0afc9-1177-4a8c-b108-1a9956a78c77%2F1%20(4).png?v=1572023654650",cemkaLove:"https://cdn.glitch.com/7cd0afc9-1177-4a8c-b108-1a9956a78c77%2F1%20(5).png?v=1572023654591",cemkaLUL:"https://cdn.glitch.com/7cd0afc9-1177-4a8c-b108-1a9956a78c77%2F1%20(6).png?v=1572023654251",cemkaM:"https://cdn.glitch.com/7cd0afc9-1177-4a8c-b108-1a9956a78c77%2F1%20(7).png?v=1572023654163",cemkaPuwka:"https://cdn.glitch.com/7cd0afc9-1177-4a8c-b108-1a9956a78c77%2F1%20(8).png?v=1572023654298",cemkaRage:"https://cdn.glitch.com/7cd0afc9-1177-4a8c-b108-1a9956a78c77%2F1%20(9).png?v=1572023658145",cemkaRIP:"https://cdn.glitch.com/7cd0afc9-1177-4a8c-b108-1a9956a78c77%2F1%20(10).png?v=1572023654310",cemkaSleeper:"https://cdn.glitch.com/7cd0afc9-1177-4a8c-b108-1a9956a78c77%2F1%20(11).png?v=1572023655256",cemkaThonk:"https://cdn.glitch.com/7cd0afc9-1177-4a8c-b108-1a9956a78c77%2F1%20(12).png?v=1572023656233",cemkaToxic:"https://cdn.glitch.com/7cd0afc9-1177-4a8c-b108-1a9956a78c77%2F1%20(13).png?v=1572023657940",cemkaWO:"https://cdn.glitch.com/7cd0afc9-1177-4a8c-b108-1a9956a78c77%2F1%20(14).png?v=1572023657674",cemkaWut:"https://cdn.glitch.com/7cd0afc9-1177-4a8c-b108-1a9956a78c77%2F1%20(15).png?v=1572023654636",cemkaYea:"https://cdn.glitch.com/7cd0afc9-1177-4a8c-b108-1a9956a78c77%2F1%20(16).png?v=1572023655227","<3":"https://cdn.glitch.com/7cd0afc9-1177-4a8c-b108-1a9956a78c77%2F1%20(17).png?v=1572023655648",HeyGuys:"https://cdn.glitch.com/7cd0afc9-1177-4a8c-b108-1a9956a78c77%2F1%20(18).png?v=1572023655886",Jebaited:"https://cdn.glitch.com/7cd0afc9-1177-4a8c-b108-1a9956a78c77%2F1%20(19).png?v=1572023656073",KappaPride:"https://cdn.glitch.com/7cd0afc9-1177-4a8c-b108-1a9956a78c77%2F1%20(21).png?v=1572023658737",Kappa:"https://cdn.glitch.com/7cd0afc9-1177-4a8c-b108-1a9956a78c77%2F1%20(20).png?v=1572023655843",KonCha:"https://cdn.glitch.com/7cd0afc9-1177-4a8c-b108-1a9956a78c77%2F1%20(22).png?v=1572023656495",kreygasm:"https://cdn.glitch.com/7cd0afc9-1177-4a8c-b108-1a9956a78c77%2F1%20(23).png?v=1572023657266",OpieOP:"https://cdn.glitch.com/7cd0afc9-1177-4a8c-b108-1a9956a78c77%2F1(50).png?v=1572025683085",MEGALUL:"https://cdn.glitch.com/7cd0afc9-1177-4a8c-b108-1a9956a78c77%2F1%20(25).png?v=1572023656881",LUL:"https://cdn.glitch.com/7cd0afc9-1177-4a8c-b108-1a9956a78c77%2F1%20(24).png?v=1572023656691",NotLikeThis:"https://cdn.glitch.com/7cd0afc9-1177-4a8c-b108-1a9956a78c77%2F1%20(26).png?v=1572023658516",omegaKEK:"https://cdn.glitch.com/7cd0afc9-1177-4a8c-b108-1a9956a78c77%2F1%20(27).png?v=1572023657484",pepega:"https://cdn.glitch.com/7cd0afc9-1177-4a8c-b108-1a9956a78c77%2F1%20(28).png?v=1572023658310",PepeLaugh:"https://cdn.glitch.com/7cd0afc9-1177-4a8c-b108-1a9956a78c77%2F1%20(29).png?v=1572023660687",peepoClown:"https://cdn.betterttv.net/frankerfacez_emote/318914/1",peepoHug:"https://cdn.glitch.com/7cd0afc9-1177-4a8c-b108-1a9956a78c77%2F1(51).png?v=1572025928017",PogChamp:"https://cdn.glitch.com/7cd0afc9-1177-4a8c-b108-1a9956a78c77%2F1%20(31).png?v=1572023659674",PogW:"https://cdn.glitch.com/7cd0afc9-1177-4a8c-b108-1a9956a78c77%2F1%20(32).png?v=1572023659232",POGGERS:"https://cdn.glitch.com/7cd0afc9-1177-4a8c-b108-1a9956a78c77%2F1(52).png?v=1572026163406",Pog:"https://cdn.glitch.com/7cd0afc9-1177-4a8c-b108-1a9956a78c77%2F1%20(30).png?v=1572023658989",ResidentSleeper:"https://cdn.glitch.com/7cd0afc9-1177-4a8c-b108-1a9956a78c77%2F1%20(33).png?v=1572024273721",SeemsGood:"https://cdn.glitch.com/7cd0afc9-1177-4a8c-b108-1a9956a78c77%2F1%20(34).png?v=1572023659400",VoHiYo:"https://cdn.glitch.com/7cd0afc9-1177-4a8c-b108-1a9956a78c77%2F1%20(35).png?v=1572024252643",voteYea:"https://cdn.glitch.com/7cd0afc9-1177-4a8c-b108-1a9956a78c77%2F1%20(36).png?v=1572023659927",WutFace:"https://cdn.glitch.com/7cd0afc9-1177-4a8c-b108-1a9956a78c77%2F1%20(37).png?v=1572023662358",KEKWait:"https://cdn.betterttv.net/frankerfacez_emote/390750/1",KEKW:"https://cdn.betterttv.net/frankerfacez_emote/395453/1",qqqqRoflan:"https://static-cdn.jtvnw.net/emoticons/v1/300967153/1.0"};const iconsObj={none:"https://image.flaticon.com/icons/svg/64/64299.svg",day:"https://image.flaticon.com/icons/svg/60/60967.svg",night:"https://image.flaticon.com/icons/svg/1415/1415431.svg",guru:"https://image.flaticon.com/icons/svg/697/697109.svg",dandelion:"https://image.flaticon.com/icons/svg/2577/2577543.svg",main:"https://image.flaticon.com/icons/svg/44/44499.svg",fbi:"https://image.flaticon.com/icons/svg/1039/1039481.svg",notes:"https://image.flaticon.com/icons/svg/2119/2119695.svg",tags:"https://image.flaticon.com/icons/png/64/1873/1873920.png",archive:"https://www.flaticon.com/premium-icon/icons/svg/2169/2169319.svg",calendar:"https://image.flaticon.com/icons/svg/1535/1535952.svg",settings:"https://image.flaticon.com/icons/svg/70/70367.svg",database:"https://image.flaticon.com/icons/svg/76/76725.svg",scrollTop:"https://image.flaticon.com/icons/svg/2089/2089751.svg",theme:"https://image.flaticon.com/icons/svg/483/483619.svg",same:"https://image.flaticon.com/icons/svg/639/639219.svg",filter:"https://image.flaticon.com/icons/svg/1159/1159884.svg",autoload:"https://image.flaticon.com/icons/svg/1437/1437788.svg",chat:"https://image.flaticon.com/icons/svg/992/992450.svg",username:"https://image.flaticon.com/icons/svg/2089/2089136.svg",old:"https://image.flaticon.com/icons/svg/812/812680.svg",url:"https://image.flaticon.com/icons/svg/455/455691.svg",smile:"https://image.flaticon.com/icons/svg/1933/1933575.svg",resettings:"https://image.flaticon.com/icons/svg/1632/1632932.svg",arrow:"https://image.flaticon.com/icons/svg/566/566004.svg",maxline:"https://image.flaticon.com/icons/svg/1828/1828961.svg",midnight:"https://image.flaticon.com/icons/svg/359/359866.svg",help:"https://image.flaticon.com/icons/svg/2088/2088076.svg",first:"https://image.flaticon.com/icons/svg/1292/1292970.svg",best:"https://image.flaticon.com/icons/svg/1152/1152861.svg",sort_order:"https://image.flaticon.com/icons/svg/626/626013.svg",sort_id:"https://image.flaticon.com/icons/svg/929/929307.svg",sort_duration:"https://image.flaticon.com/icons/svg/1479/1479995.svg",sort_pop:"https://image.flaticon.com/icons/svg/1828/1828961.svg"};var cookie={},cookieDOM=document.cookie.split("; ").filter(e=>e),cookieDate="Fri, 7 Aug 2020 00:00:00 UTC";for(let e=0;e<cookieDOM.length;e++){let t=cookieDOM[e].split("=")[0],a=cookieDOM[e].split("=")[1];cookie[t]=filter(["{"],a)?JSON.parse(a):a}cookie.lang&&langObj[cookie.lang]||(cookie.lang=Object.keys(langObj)[0],document.cookie=`lang=${cookie.lang};expires=${cookieDate}`),cookie.theme&&colorObj[cookie.theme]||(cookie.theme=Object.keys(colorObj)[0],document.cookie=`theme=${cookie.theme};expires=${cookieDate}`),(!cookie.UTC||isNaN(cookie.UTC)||+cookie.UTC>56||+cookie.UTC<-44)&&(cookie.UTC=(new Date).getTimezoneOffset()/-15,document.cookie=`UTC=${cookie.UTC};expires=${cookieDate}`),cookie.turn||(cookie.turn={});for(let e=0;e<pageSet.turn.list.length;e++){let t=pageSet.turn.list[e];if(cookie.turn[t]){let e=Object.keys(cookie.turn[t]),a=Object.values(cookie.turn[t]);for(let n=0;n<e.length;n++){let l=e[n],i=a[n];filterOnly(settingsPages,l)?cookie.turn[t][l]=filterOnly(["0","1"],i)?i:cookie.turn[t][page]=filterOnly(pageSet.turn.auto[t],page)?"1":"0":delete cookie.turn[t][l]}if(Object.keys(cookie.turn[t]).length!=settingsPages.length)for(let e=0;e<settingsPages.length;e++)filterOnly(cookie.turn[t],settingsPages[e])||(cookie.turn[t][settingsPages[e]]=filterOnly(pageSet.turn.auto[t],page)?"1":"0")}else{cookie.turn[t]={};for(let e=0;e<settingsPages.length;e++){let a=settingsPages[e];cookie.turn[t][a]=filterOnly(pageSet.turn.auto[t],a)?"1":"0"}}}document.cookie=`turn=${JSON.stringify(cookie.turn)};expires=${cookieDate}`;let allTheme=Object.keys(colorObj);if(cookie.hueRotate){let e=Object.keys(cookie.hueRotate),t=Object.values(cookie.hueRotate);for(let a=0;a<e.length;a++){let n=e[a],l=t[a];(!filterOnly(allTheme,n)||NaN==Number(l)||+l<0||+l>359||3!=l.length)&&delete cookie.hueRotate[n]}if(Object.keys(cookie.hueRotate).length!=allTheme.length)for(let e=0;e<allTheme.length;e++)filterOnly(cookie.hueRotate,allTheme[e])||(cookie.hueRotate[allTheme[e]]="000")}else{cookie.hueRotate={};for(let e=0;e<allTheme.length;e++){let t=allTheme[e];cookie.hueRotate[t]="000"}}document.cookie=`hueRotate=${JSON.stringify(cookie.hueRotate)};expires=${cookieDate}`;var title=translate(["loading"]);function getLang(e){let t=2!=String(e).length?$(e).attr("for").slice(0,-4):String(e);cookie.lang=t,document.cookie=`lang=${cookie.lang};expires=${cookieDate}`,$("#title").html(translate(["pages",pathname]));for(let e=0;e<allPages.length;e++){let t=allPages[e],a=translate(["pages",allPages[e]]);$(`label[for='${t}Page']`).attr({name:`» ${a}`})}switch($("label[for='filter']").attr({name:translate(["menu","filter","name"])}),$("title").html(`${translate(["pages",pathname])}${"completed"==$("label[for='autoload']").attr("status")?" | "+$(".bottomMenu label[for='autoload']").attr("number")+" | "+translate(["menu","autoloadCompleted"]):"nodata"==$("label[for='autoload']").attr("status")?" | "+translate(["menu","autoloadNodata"]):filter(pageSet.ban.autoload,pathname)?"":" | "+$(".bottomMenu label[for='autoload']").attr("number")}`),$("label[for='autoload']").attr({name:"completed"==$("label[for='autoload']").attr("status")?translate(["menu","autoloadCompleted"]):"nodata"==$("label[for='autoload']").attr("status")?translate(["menu","autoloadNodata"]):translate(["menu","autoload"])}),$(".rightFilter #resetAll").attr({name:translate(["menu","filter","resetAll"+("settings"==pathname?"Settings":"")])}),$("ul>div[load]").length&&("completed"==$("ul>div[load]").attr("status")?$("ul>div[load]").attr({name:translate(["menu","autoloadCompleted"])}):$("ul>div[load]").attr({name:translate(["menu","autoloadNodata"])})),pathname){case"settings":for(let e=0;e<settingsPages.length;e++)$(`.rightFilter label[for="${settingsPages[e]}FilterMax"]`).attr({name:translate(0==e||1==e?["menu","filter",settingsPages[e]]:["pages",settingsPages[e]])});if($("ul .add").attr({name:translate([pathname,"add"])}),$("ul .delete").attr({name:translate([pathname,"delete"])}),$("ul .ignore").attr({name:translate([pathname,"ignore"])}),$("ul .reset[onclick*='Reset']").attr({name:translate([pathname,"reset"])}),$("ul .reset[onclick*='Save']").attr({name:translate([pathname,"save"])}),$("li[content$='Add'] h8").attr({meme:translate([pathname,"total"])}),pageSet[pathname].add[hash])for(let e=0;e<pageSet[pathname].add[hash].length;e++){let t=pageSet[pathname].add[hash][e]||"";$(`li[content$='${t}Add'] h4 a`).html(translate([pathname,hash,"add"+t])),$(`li[content='${hash+t}'] h4 a`).html(translate([pathname,hash,"title"+t])),$(`li[content='${hash+t}'] h4>div`).length&&$(`li[content='${hash+t}'] h4>div`).html(translate([pathname,hash,"subtitle"+t]))}switch($("li[for='cookieRightFilter'] h4 a").html(translate([pathname,"activePage"])),hash){case"theme":$("ul li h4 a").html(translate([pathname,hash,"title"]));break;case"same":$("li[content='UTC'] h4 a").html(translate([pathname,"UTC"]))}break;default:$("li>h4>a[datetype='yesterday']").attr({date:translate(["time","yesterday"])}),$("li>h4>a[datetype='online']").attr({date:translate(["time","online"])}),$("#filterOrder").attr({more:translate(["menu","filter","more"]),less:translate(["menu","filter","less"])}),$("#activeFilter").attr({name:translate(["menu","filter","active"])});let e=["date","pop","duration","channel"];for(let t=0;t<e.length;t++)$(`label[for='${e[t]}FilterWrap']`).attr({name:translate(["menu","filter","wrap",e[t]])});let t=pageSet.topMenu.tracking;for(let e=0;e<t.length;e++)$(`li>h4>a[fn][type='${t[e]}']`).html(translate(["pages",t[e]]))}}function loadArchive(e,t,a,n){try{"end"==t?(endAutoload(),$("#autoload").attr({act:"stop"})):function l(i=0){if(window.location.href==e&&Object.keys(t).length&&n==get){let n=Object.keys(t)[i],o=n.slice(2),r=t[n].c,s=1e3*t[n].sS,c=t[n].d,h=t[n].sN,d=t[n].sN.length>70-r.length?t[n].sN.slice(0,67-r.length)+"...":t[n].sN,g=1e3*(60*+c.split(":")[0]*60+60*+c.split(":")[1]+ +c.split(":")[2]),p=tLS(s-utc(),timeSet),m=tLS(s-utc()),u=tLS(Date.now()-utc()),f=tLS(Date.now()-utc()-864e5),v=3e5-(Date.now()-s-g)>0?translate(["time","online"]):m==u?p:m==f?translate(["time","yesterday"]):m,b=3e5-(Date.now()-s-g)>0?"online":m==u?"today":m==f?"yesterday":"time",k=["main","fbi","notes","tags"];for(let e=0;e<k.length;e++){let a=k[e];if(t[Object.keys(t)[i]][a]){let[e,l,i,g]=[0,"","","0:0"],p=Math.floor(s%864e5/12e4);if("main"==a){let u=t[n][a];content[o]=u;for(let t=0;t<Object.keys(u).length;t++){let a=u[Object.keys(u)[t]],n=Object.keys(a),o=0;i=`${t}:0`,e=e<+n[Object.keys(a).length-1].slice(1)?+n[Object.keys(a).length-1].slice(1):e;for(let e=0;e<n.length;e++)i=`${t}:${+i.split(":")[1]+ +Object.values(a)[e]}`,o=o<Object.values(a)[e]?Math.round(Object.values(a)[e]):o;g=+g.split(":")[1]<+i.split(":")[1]?i:g,l+=`<dot meme="m${t}" memename="${Object.keys(u)[t]}" style="bottom: ${2*o+10>207?207:2*o+10}px; background: ${colorArr[infoBot.memes[Object.keys(u)[t]]]};" alt="${o}" hover="${t?0:1}" onclick="dotclick(this);"></dot>`}let f=(e-p+xW(r))*xW(r)<widthLi()?widthLi():5*Math.round((e-p+xW(r))/5)*xW(r),k=Math.round((e-p)/5)-widthLi()/(5*xW(r));k=k<0?0:k+1;let w=widthLi(60)/(k+1)*1.5>widthLi(60)?widthLi(60):widthLi(60)/(k+1)*1.5,y=heightLi(60)/Object.keys(u).length*1.5>heightLi(60)?heightLi(60):heightLi(60)/Object.keys(u).length*1.5;if(!$(`li[sID="${o}"][pathname="${a}"]`).length){$("main ul div[load]").before(`\n                    <input type="checkbox" id="arrow_comments_${a+o}" ${"1"==cookie.turn.arrow[pathname]?"checked":""}>\n                    <label for="arrow_comments_${a+o}" icon="arrow" username="${r}"></label>\n                    <li sID="${o}" type="main" username="${r}" pathname="${a}" ${"time"==b&&"1"==cookie.turn.old[pathname]?"old":""} counter archive>\n                      <h4 meme="${Object.keys(u)[0]}" sum="0">\n                        <a target="_blank" href="https://www.twitch.tv/${r}" ch>${r}</a>   \n                        <a target="_blank" href="${url(o)}" title="${h}" sN>${d}</a>   \n                        <a target="_blank" href="/archive?date=${m}-${m}" date="${v}" fulldate="${tLS3(c,e-p)}" datetype="${b}" onmouseover="help(this, ['archive'], ' [${m}]')"></a>\n                      </h4>\n                      <div class="deleteLi" onclick="dlt(this, 'main', 'block');"></div>\n                      <h8>\n                        <div class="graphX" onwheel="event.preventDefault()" min="${p}" max="${e}" sS="${s}">\n                          <canvas class="graph" id="canvas${o}" height="200" width="${f}" style="height: 200px; width: ${f}px"></canvas>\n                          <canvas class="graphMin" id="min${o}" height="40" width="${f}" style="height: 40px; width: ${f}px" onwheel='graphXWheel(this, event, 1)' onclick="openLi(this)"></canvas>\n                          <canvas class="graphAim" id="aim${o}" height="200" width="${widthLi()}"onmousemove="getCanvasXY(this, event);" onmouseout="clearCanvas(this);"></canvas>\n                        </div>   \n                        <div fn><a target="_blank" href="/archive?sID=${o}" onmouseover="help(this, ['pages', 'main'])" view="icon" icon="main"></a></div>\n                        <div class="allMaxLine">${l}</div>\n                        <div class="mainMenu"></div>\n                        <input type="range" name="bottomRange" class="bottomRange" max="${k}" step="1" value="0" percent="${k?0:100}" oninput="bottomRange(this);">\n                        <input type="range" name="rightRange" class="rightRange" min="0" max="${Object.keys(u).length-1}" step="1" value="${+g.split(":")[0]}" orient="vertical" oninput="rightRange(this);">\n                      </h8> \n                      <style>\n                        li[sID="${o}"][pathname="${a}"] .bottomRange::-webkit-slider-thumb{width: ${Math.round(w)}px}\n                        li[sID="${o}"][pathname="${a}"] .rightRange::-webkit-slider-thumb{width: ${Math.round(y)}px}\n                      </style>\n                    </li>\n                  `);for(let e=0;e<Object.keys(u).length;e++){let t=Object.keys(u)[e];$(`li[sID="${o}"] .rightRange`).attr(`m${e}`,Object.keys(u[t]).length)}rightRange($(`li[sID="${o}"] .rightRange`)),$(`#channel_${r}`).length&&!$(`.channelFilterWrap #channel_${r}`).prop("checked")&&($(`ul li[sID='${o}'][pathname="${a}"]`).hide(),$(`ul label[for='arrow_comments_${a+o}']`).hide())}}else{let l=t[n][a];if(!$(`li[sID="${o}"][pathname="${a}"]`).length){$("main ul div[load]").before(`\n                    <input type="checkbox" id="arrow_comments_${a+o}" ${$(`li[sID="${o}"]`).length?"next":""} ${"1"==cookie.turn.arrow[pathname]?"checked":""}>\n                    <label for="arrow_comments_${a+o}" icon="arrow" username="${r}"></label>\n                    <li sID="${o}" type="comments" pathname="${a}" username="${r}" ${$(`li[sID="${o}"]`).length?"next":"counter"} ${"time"==b&&"1"==cookie.turn.old[pathname]?"old":""}>\n                      <h4 meme="0" sum="0">       \n                        ${$(`li[sID="${o}"]`).length?"":`\n                          <a target="_blank" href="https://www.twitch.tv/${r}" ch>${r}</a>   \n                          <a target="_blank" href="${url(o)}" title="${h}" sN>${d}</a>\n                          <a target="_blank" href="/archive?date=${m}-${m}"  date="${v}" fulldate="${tLS3(c,e-p)}" datetype="${b}" onmouseover="help(this, ['archive'], ' [${m}]')"></a>\n                        `}   \n                      </h4>\n                      <div class="deleteLi" onclick="dlt(this, '${a}', 'block');"></div>\n                      <h8>\n                        <div fn><a target="_blank" href="/archive?sID=${o}" onmouseover="help(this, ['pages', '${a}'])" view="icon" icon="${a}"></a></div>\n                      </h8>\n                    </li>\n                  `);for(let e=0;e<l.length;e++){let t=tLS(l[e].t-s- -6e4*(new Date).getTimezoneOffset(),timeSet),n=l[e].u,i=wwwFilter(smilesFilter(l[e].m)),r=url(o)+`&t=${t.split(":")[0]}h${t.split(":")[1]}m${t.split(":")[2]}s`,c=$(`ul li[sID="${o}"][pathname="${a}"] h4`).attr("meme"),h=$(`ul li[sID="${o}"][pathname="${a}"] h4`).attr("sum");$(`ul li[sID="${o}"][pathname="${a}"] h4`).attr({sum:+h+1}),"0"!=cookie.turn.same[a]&&filter([`#${n}:</b> ${i}`],$(`ul li[sID="${o}"] h8`).html())||($(`ul li[sID="${o}"][pathname="${a}"] h4`).attr({meme:+c+1}),$(`ul li[sID="${o}"][pathname="${a}"] h8`).append(`\n                        <div>\n                          <a target="_blank" href="${r}"><b>[${t}] #${n}:</b></a>\n                          <div delete onclick="dlt(this, '${a}', 'message', ${l[e].t});"></div>\n                        </div>\n                      `),$(`ul li[sID="${o}"][pathname="${a}"] h8 a[href='${r}']`).append(` ${i}`))}$(`#channel_${r}`).length&&!$(`.channelFilterWrap #channel_${r}`).prop("checked")&&($(`ul li[sID='${o}']`).hide(),$(`ul label[for='arrow_comments${o}']`).hide())}}}}addTitleNum(),setTimeout(()=>{++i<Object.keys(t).length?window.location.href==e&&function t(){let a=+$("html").prop("scrollHeight"),n=+$(document).scrollTop();window.location.href==e&&(a<=n+3*wH||1==$("#autoload").prop("checked")?(l(i),$("#autoload").attr({act:"load"})):setTimeout(()=>{window.location.href==e&&(t(),$("#autoload").attr({act:"stop"}))},50))}():getContent(pathname,+a+1)},50)}}()}catch(n){console.error(n),setTimeout(()=>loadArchive(e,t,a),200)}}function loadBest(e,t,a,n){try{"end"==t?(endAutoload(),$("#autoload").attr({act:"stop"})):function l(i=0){if(window.location.href==e&&Object.keys(t).length&&n==get){if(t[Object.keys(t)[i]][pathname]){let e=Object.keys(t)[i],a=e.slice(2),n=t[e].c,l=1e3*t[e].sS,o=t[e].d,r=t[e].sN,s=t[e][pathname],c=t[e].sN.length>70-n.length?t[e].sN.slice(0,67-n.length)+"...":t[e].sN;content[a]=s;let h=1e3*(60*+o.split(":")[0]*60+60*+o.split(":")[1]+ +o.split(":")[2]),d=tLS(l-utc(),timeSet),g=tLS(l-utc()),p=tLS(Date.now()-utc()),m=tLS(Date.now()-utc()-864e5),u=3e5-(Date.now()-l-h)>0?translate(["time","online"]):g==p?d:g==m?translate(["time","yesterday"]):g,f=3e5-(Date.now()-l-h)>0?"online":g==p?"today":g==m?"yesterday":"time",v="";for(let n=0;n<commentPages.length;n++){let l=commentPages[n],i=t[e][`t${l.toUpperCase().slice(0,1)}`];v+=`<a target="_blank" href="/archive?sID=${a}" onmouseover="help(this, ['pages', '${l}'])" view="icon" icon="${l}" name="${i}"></a>`}let[b,k]=[0,s.allTriggers.map.length],w=Math.round((k-b)/5)-widthLi()/(5*xW(n));w=w<0?0:w+1;let y=widthLi(60)/(w+1)*1.5>widthLi(60)?widthLi(60):widthLi(60)/(w+1)*1.5,x=(heightLi(60)/1*1.5>heightLi(60)?heightLi(60):heightLi(60),(k+xW(n))*xW(n)<widthLi()?widthLi():5*Math.round(k+xW(n)/5)*xW(n));$(`li[sID="${a}"]`).length||($("main ul div[load]").before(`\n                <input type="checkbox" id="arrow_comments${a}" ${"1"==cookie.turn.arrow[pathname]?"checked":""}>\n                <label for="arrow_comments${a}" icon="arrow" username="${n}"></label>\n                <li sID="${a}" type="main" username="${n}" ${"time"==f&&"1"==cookie.turn.old[pathname]?"old":""} counter>\n                  <h4 sum="${k}">\n                    <a target="_blank" href="https://www.twitch.tv/${n}" ch>${n}</a>   \n                    <a target="_blank" href="${url(a)}" title="${r}" sN>${c}</a>   \n                    <a target="_blank" href="/archive?date=${g}-${g}" date="${u}" fulldate="${tLS3(o)}" datetype="${f}" onmouseover="help(this, ['archive'], ' [${g}]')"></a>\n                  </h4>\n                  <div class="deleteLi" onclick="dlt(this, 'main', 'block');"></div>\n                  <h8>\n                    <div class="graphX" onwheel="event.preventDefault()" min="${b}" max="${k}" sS="${l}">\n                      <canvas class="graph" id="canvas${a}" height="${heightLi()}" width="${x}" style="height: 200px; width: ${x}px"></canvas>\n                      <canvas class="graphMin" id="min${a}" height="40" width="${x}" style="height: 40px; width: ${x}px" onwheel='graphXWheel(this, event, 1)' onclick="openLi(this)"></canvas>\n                      <canvas class="graphAim" id="aim${a}" height="${heightLi()}" width="${widthLi()}"onmousemove="getCanvasXY(this, event);" onmouseout="clearCanvas(this);"></canvas>\n                    </div>  \n                    <div fn>${v}</div>\n                    <div class="mainMenu"></div>\n                    <input type="range" name="bottomRange" class="bottomRange" max="${w}" step="1" value="0" percent="${w?0:100}" oninput="bottomRange(this);">\n                    <input type="range" name="rightRange" class="rightRange" min="0" max="${s.list.length-1}" step="1" value="${s.list.length-1}" orient="vertical" oninput="rightRange(this);">\n                  </h8>\n                </li>\n                <style>\n                  li[sID="${a}"] .bottomRange::-webkit-slider-thumb{width: ${Math.round(y)}px}\n                </style>\n              `),rightRange($(`li[sID="${a}"] .rightRange`)),$(`#channel_${n}`).length&&!$(`.channelFilterWrap #channel_${n}`).prop("checked")&&($(`ul li[sID='${a}']`).hide(),$(`ul label[for='arrow_comments${a}']`).hide()),addTitleNum())}setTimeout(()=>{++i<Object.keys(t).length?window.location.href==e&&function t(){let a=+$("html").prop("scrollHeight"),n=+$(document).scrollTop();window.location.href==e&&(a<=n+3*wH||1==$("#autoload").prop("checked")?(l(i),$("#autoload").attr({act:"load"})):setTimeout(()=>{window.location.href==e&&(t(),$("#autoload").attr({act:"stop"}))},50))}():getContent(pathname,+a+1)},50)}}()}catch(n){console.error(n),setTimeout(()=>loadBest(e,t,a),200)}}function loadComments(e,t,a,n){try{"end"==t?(endAutoload(),$("#autoload").attr({act:"stop"})):function l(i=0){if(e==window.location.href&&Object.keys(t).length&&n==get){if(t[Object.keys(t)[i]][pathname]){let e=Object.keys(t)[i],a=e.slice(2),n=t[e][pathname],l=t[e].c,o=1e3*t[e].sS,r=t[e].d,s=t[e].sN,c=t[e].sN.length>80-l.length?t[e].sN.slice(0,77-l.length)+"...":t[e].sN,h=1e3*(60*+r.split(":")[0]*60+60*+r.split(":")[1]+ +r.split(":")[2]),d=tLS(o-utc(),timeSet),g=tLS(o-utc()),p=tLS(Date.now()-utc()),m=tLS(Date.now()-utc()-864e5),u=3e5-(Date.now()-o-h)>0?translate(["time","online"]):g==p?d:g==m?translate(["time","yesterday"]):g,f=3e5-(Date.now()-o-h)>0?"online":g==p?"today":g==m?"yesterday":"time",v="";for(let n=0;n<commentPages.length;n++){let l=commentPages[n];if(l!=pathname){let n=t[e][`t${l.toUpperCase().slice(0,1)}`];v+=`<a target="_blank" href="/archive?sID=${a}" onmouseover="help(this, ['pages', '${l}'])" view="icon" icon="${l}" name="${n}"></a>`}}if(!$(`li[sID="${a}"]`).length){$("main ul div[load]").before(`\n                  <input type="checkbox" id="arrow_comments${a}" ${"1"==cookie.turn.arrow[pathname]?"checked":""}>\n                  <label for="arrow_comments${a}" icon="arrow" username="${l}"></label>\n                  <li sID="${a}" type="comments" username="${l}" ${"time"==f&&"1"==cookie.turn.old[pathname]?"old":""} counter>\n                    <h4 meme="0" sum="0">\n                      <a target="_blank" href="https://www.twitch.tv/${l}" ch>${l}</a>   \n                      <a target="_blank" href="${url(a)}" title="${s}" sN>${c}</a>   \n                      <a target="_blank" href="/archive?date=${g}-${g}" date="${u}" fulldate="${tLS3(r)}" datetype="${f}" onmouseover="help(this, ['archive'], ' [${g}]')"></a>\n                    </h4>\n                    <div class="deleteLi" onclick="dlt(this, '${pathname}', 'block');"></div>\n                    <h8><div fn>${v}</div></h8>\n                  </li>\n                `);for(let e=0;e<n.length;e++){let t=tLS(n[e].t-o- -6e4*(new Date).getTimezoneOffset(),timeSet),l=n[e].u,i=wwwFilter(smilesFilter(n[e].m)),r=url(a)+`&t=${t.split(":")[0]}h${t.split(":")[1]}m${t.split(":")[2]}s`,s=$(`ul li[sID="${a}"] h4`).attr("meme"),c=$(`ul li[sID="${a}"] h4`).attr("sum");$(`ul li[sID="${a}"] h4`).attr({sum:+c+1}),"0"!=cookie.turn.same[pathname]&&filter([`#${l}:</b> ${i}`],$(`ul li[sID="${a}"] h8`).html())||($(`ul li[sID="${a}"] h4`).attr({meme:+s+1}),$(`ul li[sID="${a}"] h8`).append(`\n                      <div>\n                        <a target="_blank" href="${r}"><b>[${t}] #${l}:</b></a>\n                        <div delete onclick="dlt(this, '${pathname}', 'message', ${n[e].t});"></div>\n                      </div>\n                    `),$(`ul li[sID="${a}"] h8 a[href='${r}']`).append(` ${i}`))}$(`#channel_${l}`).length&&!$(`.channelFilterWrap #channel_${l}`).prop("checked")&&($(`ul li[sID='${a}']`).hide(),$(`ul label[for='arrow_comments${a}']`).hide()),addTitleNum()}}setTimeout(()=>{++i<Object.keys(t).length?window.location.href==e&&function t(){let a=+$("html").prop("scrollHeight"),n=+$(document).scrollTop();window.location.href==e&&(a<=n+3*wH||1==$("#autoload").prop("checked")?(l(i),$("#autoload").attr({act:"load"})):setTimeout(()=>{window.location.href==e&&(t(),$("#autoload").attr({act:"stop"}))},50))}():getContent(pathname,+a+1)},50)}}()}catch(n){console.error(n),setTimeout(()=>loadComments(e,t,a),200)}}function loadMain(e,t,a,n){try{"end"==t?(endAutoload(),$("#autoload").attr({act:"stop"})):function l(i=0){if(window.location.href==e&&Object.keys(t).length&&n==get){if(t[Object.keys(t)[i]][pathname]){let e=Object.keys(t)[i],a=e.slice(2),n=t[e].c,l=1e3*t[e].sS,o=t[e].d,r=t[e].sN,s=t[e][pathname],c=t[e].sN.length>70-n.length?t[e].sN.slice(0,67-n.length)+"...":t[e].sN;content[a]=s;let h=1e3*(60*+o.split(":")[0]*60+60*+o.split(":")[1]+ +o.split(":")[2]),d=tLS(l-utc(),timeSet),g=tLS(l-utc()),p=tLS(Date.now()-utc()),m=tLS(Date.now()-utc()-864e5),u=3e5-(Date.now()-l-h)>0?translate(["time","online"]):g==p?d:g==m?translate(["time","yesterday"]):g,f=3e5-(Date.now()-l-h)>0?"online":g==p?"today":g==m?"yesterday":"time",v="";for(let n=0;n<commentPages.length;n++){let l=commentPages[n],i=t[e][`t${l.toUpperCase().slice(0,1)}`];v+=`<a target="_blank" href="/archive?sID=${a}" onmouseover="help(this, ['pages', '${l}'])" view="icon" icon="${l}" name="${i}"></a>`}let[b,k,w,y]=[0,"","","0:0"],x=Math.floor(l%864e5/12e4);for(let e=0;e<Object.keys(s).length;e++){let t=s[Object.keys(s)[e]],a=Object.keys(t),n=0;w=`${e}:0`,b=b<+a[Object.keys(t).length-1].slice(1)?+a[Object.keys(t).length-1].slice(1):b;for(let l=0;l<a.length;l++)w=`${e}:${+w.split(":")[1]+ +Object.values(t)[l]}`,n=n<Object.values(t)[l]?Math.round(Object.values(t)[l]):n;y=+y.split(":")[1]<+w.split(":")[1]?w:y,k+=`<dot meme="m${e}" memename="${Object.keys(s)[e]}" style="bottom: ${2*n+10>207?207:2*n+10}px; background: ${colorArr[infoBot.memes[Object.keys(s)[e]]]};" alt="${n}" hover="0" onclick="dotclick(this);"></dot>`}let _=(b-x+xW(n))*xW(n)<widthLi()?widthLi():5*Math.round((b-x+xW(n))/5)*xW(n),S=Math.round((b-x)/5)-widthLi()/(5*xW(n));S=S<0?0:S+1;let T=widthLi(60)/(S+1)*1.5>widthLi(60)?widthLi(60):widthLi(60)/(S+1)*1.5,L=heightLi(60)/Object.keys(s).length*1.5>heightLi(60)?heightLi(60):heightLi(60)/Object.keys(s).length*1.5;if(!$(`li[sID="${a}"]`).length){$("main ul div[load]").before(`\n                <input type="checkbox" id="arrow_comments${a}" ${"1"==cookie.turn.arrow[pathname]?"checked":""}>\n                <label for="arrow_comments${a}" icon="arrow" username="${n}"></label>\n                <li sID="${a}" type="main" username="${n}" ${"time"==f&&"1"==cookie.turn.old[pathname]?"old":""} counter>\n                  <h4 meme="${Object.keys(s)[0]}" sum="0">\n                    <a target="_blank" href="https://www.twitch.tv/${n}" ch>${n}</a>\n                    <a target="_blank" href="${url(a)}" title="${r}" sN>${c}</a>   \n                    <a target="_blank" href="/archive?date=${g}-${g}" date="${u}" fulldate="${tLS3(o,b-x)}" datetype="${f}" onmouseover="help(this, ['archive'], ' [${g}]')"></a>\n                  </h4>\n                  <div class="deleteLi" onclick="dlt(this, '${pathname}', 'block');"></div>\n                  <h8>\n                    <div class="graphX" onwheel="event.preventDefault()" min="${x}" max="${b}" sS="${l}">\n                      <canvas class="graph" id="canvas${a}" height="${heightLi()}" width="${_}" style="height: ${heightLi()}px; width: ${_}px"></canvas>\n                      <canvas class="graphMin" id="min${a}" height="40" width="${_}" style="height: 40px; width: ${_}px" onwheel='graphXWheel(this, event, 1)' onclick="openLi(this)"></canvas>\n                      <canvas class="graphAim" id="aim${a}" height="${heightLi()}" width="${widthLi()}"onmousemove="getCanvasXY(this, event);" onmouseout="clearCanvas(this);"></canvas>\n                    </div>   \n                    <div fn>${v}</div>\n                    <div class="allMaxLine">${k}</div>\n                    <div class="mainMenu"></div>\n                    <input type="range" name="bottomRange" class="bottomRange" max="${S}" step="1" value="0" percent="${S?0:100}" oninput="bottomRange(this);">\n                    <input type="range" name="rightRange" class="rightRange" min="0" max="${Object.keys(s).length-1}" step="1" value="${+y.split(":")[0]}" orient="vertical" oninput="rightRange(this);">\n                  </h8> \n                  <style>\n                    li[sID="${a}"] .bottomRange::-webkit-slider-thumb{width: ${Math.round(T)}px}\n                    li[sID="${a}"] .rightRange::-webkit-slider-thumb{width: ${Math.round(L)}px}\n                  </style>\n                </li>\n              `);for(let e=0;e<Object.keys(s).length;e++){let t=Object.keys(s)[e];$(`li[sID="${a}"] .rightRange`).attr(`m${e}`,Object.keys(s[t]).length)}rightRange($(`li[sID="${a}"] .rightRange`)),$(`#channel_${n}`).length&&!$(`.channelFilterWrap #channel_${n}`).prop("checked")&&($(`ul li[sID='${a}']`).hide(),$(`ul label[for='arrow_comments${a}']`).hide()),addTitleNum()}}setTimeout(()=>{++i<Object.keys(t).length?window.location.href==e&&function t(){let a=+$("html").prop("scrollHeight"),n=+$(document).scrollTop();window.location.href==e&&(a<=n+3*wH||1==$("#autoload").prop("checked")?(l(i),$("#autoload").attr({act:"load"})):setTimeout(()=>{window.location.href==e&&(t(),$("#autoload").attr({act:"stop"}))},50))}():getContent(pathname,+a+1)},50)}}()}catch(n){console.error(n),setTimeout(()=>loadMain(e,t,a),200)}}function loadSettings(e){$("ul").html(""),$(".getColor").detach(),function t(){if($(".rightFilter a").eq(0).attr("href")){if(hash=e!=pathname?$(e).attr("id").slice(0,-9):hash&&filterOnly(settingsPages,hash)?hash:"same",$(`.rightFilter input#${hash}FilterMax`).prop("checked",!0),history.replaceState("",null,pathname+"#"+hash),filter(settingsPages,hash)){let e=pageSet.turn.list;$("ul li[for='cookieRightFilter']").length||$("ul").append(`\n            <li for="cookieRightFilter" type="settings">\n              <h4><a>${translate([pathname,"activePage"])}</a></h4>\n              <h8 style="flex-direction: row;"></h8>\n            </li>\n          `);for(let t=0;t<e.length;t++)filterOnly(pageSet.turn.show[e[t]],hash)&&($("li[for='cookieRightFilter'] h8").append(`\n              <input type="checkbox" id="${e[t]}Cookie" oninput="objectCookie(this);">\n              <label for="${e[t]}Cookie" \n                icon="${e[t]}" bg="_h:dark_c:color_ch:color"\n                onmouseover="help(this, ['help', pathname, 'cookie_${e[t]}'])" \n              ></label><br>\n            `),$(`input#${e[t]}Cookie`).prop("checked",+cookie.turn[e[t]][hash]));$("li[for='cookieRightFilter'] h8>label").length||$("li[for='cookieRightFilter']").detach()}let t=["Reset","Save"];for(let e=0;e<t.length;e++)$("ul").append(`\n          <div class="reset" view="button" \n            style="right: ${10+130*e}px"\n            name="${translate([pathname,t[e].toLowerCase()])}" \n            onclick="${pathname+t[e]}('${hash}')">\n          </div>  \n        `);switch(hash){case"theme":$("ul").append(appendRange(hash,[hash,"title"],[0,359,1]));let e=cookie.hueRotate[cookie.theme];$(`ul input[name='${hash}']`).val(e).attr({deg:+e}),$(".reset[onclick*='Save']").detach();break;case"same":appendRange("UTC",["UTC"],[-44,56,1]);let t=cookie.UTC,n=+t>=0?1:-1,l=Math.floor(t/(4*n)),i=zero(15*(t-4*l*n)*n);$("li[content='UTC'] input[name='UTC']").val(t).attr({deg:`${t>=0?"+"+l:"-"+l}:${i}`});case"main":case"fbi":case"tags":case"notes":for(let e=0;e<pageSet[pathname].add[hash].length;e++){let t=pageSet[pathname].add[hash][e]||"";if(appendLiContentAdd(t),filterOnly(["same"],hash+t)){var a=pageSet.topMenu.tracking;for(let e=0;e<a.length;e++)$(`ul li[content='${hash+t}Add'] .${hash+t}Add .add`).before(`\n                  <input type="checkbox" id="${a[e]}_${hash+t}Add" checked>\n                  <label for="${a[e]}_${hash+t}Add" icon="${a[e]}" bg="_h:dark_c:color_ch:color"></label>\n                `)}$(".loadCode input").prop("checked",!0),function t(a=pageSet[pathname].add[hash][e]){let n=hash+a;$.ajax({url:"list",data:{hash:hash+a},error:l=>{503==l.status&&setTimeout(()=>{n==hash+a&&t(pageSet[pathname].add[hash][e])},5e3)},success:e=>{if(n==hash+a&&($("main").css({cursor:""}),$(".loadCode input").prop("checked",!1),e.length&&"end"!=e)){$(`ul li[content='${hash+a}Add'] h4`).attr({sum:Object.keys(e).length});for(let t=0;t<Object.keys(e).length;t++){t||appendLiContent(a);let n=e[t].key;if(!$(`ul li[content='${hash+a}'] h8>div[group="${n.toLowerCase()}"]`).length){let l=" "==n.slice(0,1)?"➝"+n.slice(1):n;if($(`ul li[content='${hash+a}'] h8`).append(`\n                            <div group="${n.toLowerCase()}" title="«${l.replace(/➝/g," ")}»">  \n                              <a target="_blank" ${hash+a=="same"||hash+a=="notesUser"?`href="https://twitch.tv/${n}"`:""}>${l}</a>\n                              ${hash+a=="main"?`\n                                <color><div style="background-color: ${colorArr[+e[t].color]}" num="${e[t].color}" onclick="getColor(this)"></div></color>\n                                <input type="text" onkeyup="${pathname}KeyUp('Trigger', this, event);">\n                                <div view="button" class="add" name="${translate([pathname,"add"])}" onclick="${pathname}Add('Trigger', this)"></div>\n                              `:""}\n                              <input type="checkbox" id="delete_${hash+a}_${n}">\n                              <label for="delete_${hash+a}_${n}" view="button_red" class="delete" name="${translate([pathname,"delete"])}" onclick="${pathname}Delete('', this)"></label> \n                            </div>\n                            ${hash+a=="main"?`\n                              <input type="checkbox" id="arrow_${hash+a}_${n.toLowerCase()}">\n                              <label for="arrow_${hash+a}_${n.toLowerCase()}" icon="arrow"></label>\n                              <nav group="${n.toLowerCase()}"></nav>\n                            `:""}\n                          `),hash+a=="main"){let l=e[t].value.slice(1,-1).split(",");for(let e=0;e<l.length;e++){let t=l[e].split(":")[0],i=l[e].split(":")[1];$(`li[content='${hash}'] h8 nav[group="${n}"]`).append(`\n                                <wrap trigger="${t}">\n                                  <a target>${t.toLowerCase()}</a>\n                                  <input type="text" maxlength="4" maxlength="1" min="0" value="${i}" onkeyup="${pathname}KeyUp('TriggerValue', this, event)">\n                                  <input type="checkbox" id="delete_${hash+a}_${n}_${e}">\n                                  <label for="delete_${hash+a}_${n}_${e}" view="button_red" class="delete" name="${translate([pathname,"delete"])}" onclick="${pathname}Delete('Trigger', this)"></label> \n                                </wrap>\n                              `)}}else if("same"==hash){$(`ul li[content='${hash}'] h8 div[group="${n.toLowerCase()}"] a`).after(`\n                              <a target="_blank" type="screen" key="${n.toLowerCase()}"></a> \n                            `),function e(){$(`ul li[content='${hash}'] h8 div[group="${n.toLowerCase()}"] a[key="${n.toLowerCase()}"]`).attr({href:returnURL(1600,900,n.toLowerCase()),style:`background-image: url(${returnURL(160,80,n.toLowerCase())})`}),setTimeout(()=>{"same"==hash&&e()},3e4)}();let l=e[t].value.slice(1,-1).split(",");for(let e=0;e<l.length;e++){let t=l[e].split(":")[0],i=l[e].split(":")[1];$(`ul li[content='${hash}'] h8 div[group="${n.toLowerCase()}"] #delete_${hash+a}_${n}`).before(`\n                                <input type="checkbox" id="${t}_${n}" ${"true"==i?"checked":""}>\n                                <label for="${t}_${n}" bg="_h:dark_c:color_ch:color" icon="${t}"></label>\n                              `)}}}}}}})}()}break;case"help":$(".reset[onclick*='Reset']").detach();default:$(".reset[onclick*='Save']").detach()}}else setTimeout(()=>t(),100)}()}function start(e,t=""){pathname=t?pathname:$(e).attr("id").slice(0,-4).toLowerCase(),(location.pathname.slice(1)!=pathname||t)&&($("label[for='autoload']").attr({status:"process"}),$("#title, title").html(translate(["pages",pathname])),t=1==t?"":t,history.replaceState("",null,pathname+getToString()),$(document).scrollTop(0),$("input#filter").prop("checked",!1),$("main ul, .rightFilter").html(""),$("#awayMove, .getColor").detach(),content={},getBottomMenu(),getReloadAutoload(),getRightFilter(),getContent(pathname))}function getContent(e,t=0){let a=window.location.href;createGet();let n=get;switch($("ul div[load]").length||filter(["settings"],pathname)||($("ul").append('<div view="button" load></div>'),$("main").css({cursor:"wait"}),filter(["main","best","archive"],pathname)&&$("ul").prepend("<a id='awayMove' target='_blank' onclick='awayMove(this)' onmouseout='awayMove(this)' onwheel='graphXWheel(this, event)'></a>")),e){case"settings":loadSettings(e);break;case"main":case"fbi":case"notes":case"tags":case"archive":case"best":$("#autoload").attr({act:"load"}),$.ajax({url:"listStream",data:{type:e,from:t*(filterOnly(["fbi","notes","tags"],e)?loadLimit:loadLimit/2),limit:filterOnly(["fbi","notes","tags"],e)?loadLimit:loadLimit/2,channel:get[pathname].channel||0,sort:get[pathname].sort||"DESC",by:get[pathname].by||"sI",date:get[pathname].date||0,duration:get[pathname].duration||0,pop:get[pathname].pop||0,sID:get[pathname].sID||0},method:"get",error:a=>setTimeout(()=>{pathname==e&&getContent(e,t)},3e3),success:l=>{switch($("main").css({cursor:""}),e){case"main":loadMain(a,l,t,n);break;case"best":loadBest(a,l,t,n);break;case"archive":loadArchive(a,l,t,n);break;default:loadComments(a,l,t,n)}$(".loadCode input").prop("checked",!1)}});break;default:$("main").css({cursor:""}),endAutoload()}}$("#title, title").html(title),function e(){$("title").html().slice(0,title.length)==title&&$("title").html($("title").html().length<title.length+3?$("title").html()+".":title),setTimeout(()=>e(),250)}();